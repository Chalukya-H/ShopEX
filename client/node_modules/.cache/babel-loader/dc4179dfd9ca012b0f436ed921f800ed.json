{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\src\\\\components\\\\orders\\\\orderCreate.js\";\nimport React from 'react';\nimport { getProducttoCart } from '../../actions/cartAction';\nimport { addProductstoOrder } from '../../actions/cartAction';\nimport { connect } from 'react-redux';\nimport NumberFormat from 'react-number-format';\n\nclass OrderCreate extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.props.dispatch(getProducttoCart());\n      const refersh = setInterval(() => {\n        if (this.props.cartData.length) {\n          clearInterval(refersh);\n          let price = 0;\n          this.props.cartData.map(cart => {\n            price += cart.price * cart.quantity;\n            return price;\n          });\n\n          if (price > 0) {\n            const tax = price * 1 / 100;\n            this.setState({\n              price,\n              tax\n            });\n          }\n        }\n      }, 1000);\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        readyToOrder: true\n      });\n    };\n\n    this.handleInfoEdit = e => {\n      this.setState({\n        readyToOrder: false\n      });\n    };\n\n    this.handleOrders = e => {\n      e.preventDefault();\n\n      const refresh = () => {\n        return window.location.reload();\n      };\n\n      const orders = this.props.cartData.map(cart => {\n        return {\n          name: cart.name,\n          price: cart.price,\n          quantity: cart.quantity,\n          image: cart.image,\n          customerID: this.props.users._id,\n          address: this.state.address,\n          contactNum: this.state.contactNum\n        };\n      });\n      this.props.dispatch(addProductstoOrder(orders, refresh));\n    };\n\n    this.state = {\n      path: window.location.origin,\n      address: '#35,2nd cross,Chunchugatta main road ,Harinagar Cross,bangalore -560062',\n      contactNum: '9060000502',\n      readyToOrder: true,\n      price: 0,\n      tax: 0\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, this.props.cartData.length && this.state.readyToOrder ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, \" Confirm Order \"), \"  \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 74\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \" ml-3  text-monospace text-decoration-none\",\n      onClick: this.handleInfoEdit,\n      style: {\n        fontSize: 'lg'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"col-12 mr-5 pr-5\",\n      style: {\n        wordWrap: 'break-word'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, \"  Delivery Address : \", this.state.address, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 138\n      }\n    }), \" Mobile : \", this.state.contactNum, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, this.props.cartData.map((cart, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mb-2\",\n        key: i + 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-1 mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: `${this.state.path}/${cart.image}`,\n        className: \"card-img\",\n        alt: \"No Image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 61\n        }\n      }, cart.name))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-text text-left mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(NumberFormat, {\n        thousandSeparator: true,\n        thousandsGroupStyle: \"lakh\",\n        className: \"card-title text-left\",\n        displayType: \"text\",\n        prefix: '₹',\n        value: cart.price,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 61\n        }\n      }), \"\\xA0\\xA0 Quantity - \", cart.quantity))))));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3  mr-auto ml-5\",\n      style: {\n        height: '100%',\n        width: '150%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 32\n      }\n    }, \"PRICE DETAILS\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 36\n      }\n    }, `Price (${this.props.cartData.length} items)`, \" \"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(NumberFormat, {\n      thousandSeparator: true,\n      thousandsGroupStyle: \"lakh\",\n      className: \"card-title float-right\",\n      displayType: \"text\",\n      prefix: '₹',\n      value: this.state.price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 36\n      }\n    }, \"TAX  \"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(NumberFormat, {\n      thousandSeparator: true,\n      thousandsGroupStyle: \"lakh\",\n      className: \"card-title float-right\",\n      displayType: \"text\",\n      prefix: '₹',\n      value: this.state.tax,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 32\n      }\n    }, \"TOTAL PRICE \"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(NumberFormat, {\n      thousandSeparator: true,\n      thousandsGroupStyle: \"lakh\",\n      className: \"card-title float-right\",\n      displayType: \"text\",\n      prefix: '₹',\n      value: this.state.price + this.state.tax,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      name: \"submit\",\n      className: \"btn btn-danger \",\n      value: \"CONFIRM ORDER\",\n      onClick: this.handleOrders,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 28\n      }\n    })))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 20\n      }\n    }, \" Delivery Details: \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 36\n      }\n    }, \"Delivery Address:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"address\",\n      required: true,\n      name: \"address\",\n      className: \"form-control h-40\",\n      rows: \"5\",\n      required: \"true\",\n      placeholder: \"Enter the address\",\n      value: this.state.address,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 36\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"contactNum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 33\n      }\n    }, \"Mobile Number:  [Please provide valid number to get order details as SMS]\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 45\n      }\n    }, \"+91\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Mobile Number\",\n      id: \"contactNum\",\n      required: \"true\",\n      name: \"contactNum\",\n      value: this.state.contactNum,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"ADD DETAILS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 34\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateTOProps = state => {\n  return {\n    cartData: state.cartData,\n    users: state.users\n  };\n};\n\nexport default connect(mapStateTOProps)(OrderCreate);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/orders/orderCreate.js"],"names":["React","getProducttoCart","addProductstoOrder","connect","NumberFormat","OrderCreate","Component","constructor","componentDidMount","props","dispatch","refersh","setInterval","cartData","length","clearInterval","price","map","cart","quantity","tax","setState","handleChange","e","target","name","value","handleSubmit","preventDefault","readyToOrder","handleInfoEdit","handleOrders","refresh","window","location","reload","orders","image","customerID","users","_id","address","state","contactNum","path","origin","render","fontSize","wordWrap","i","height","width","mapStateTOProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {getProducttoCart} from '../../actions/cartAction'\r\nimport {addProductstoOrder} from '../../actions/cartAction'\r\nimport { connect } from 'react-redux'\r\nimport NumberFormat from 'react-number-format' \r\n\r\nclass OrderCreate extends React.Component {\r\n    constructor(){\r\n        super()\r\n        this.state={             \r\n            path : window.location.origin ,\r\n            address: '#35,2nd cross,Chunchugatta main road ,Harinagar Cross,bangalore -560062',\r\n            contactNum:'9060000502',\r\n            readyToOrder : true,\r\n            price:0,\r\n            tax:0\r\n        }\r\n    }\r\n    componentDidMount =()=>{ \r\n        this.props.dispatch(getProducttoCart()) \r\n        const refersh =  setInterval( () =>{  \r\n            if(this.props.cartData.length ) {            \r\n                clearInterval(refersh) \r\n                let price = 0\r\n                this.props.cartData.map( cart =>{\r\n                    price += cart.price * cart.quantity\r\n                    return price  \r\n                })   \r\n                \r\n                if (price > 0 ){\r\n                    const tax = price * 1 /100\r\n                    this.setState({price,tax})\r\n                }  \r\n            }\r\n        } , 1000)\r\n    }\r\n\r\n    handleChange = (e) =>{\r\n\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) =>{\r\n        e.preventDefault()\r\n        this.setState({\r\n            readyToOrder : true\r\n        })\r\n    }\r\n\r\n    handleInfoEdit = (e) =>{\r\n\r\n        this.setState({\r\n            readyToOrder : false\r\n        })\r\n    }\r\n\r\n    handleOrders = (e) =>{\r\n        e.preventDefault() \r\n\r\n        const refresh =() =>{\r\n            return window.location.reload()\r\n        }\r\n        const orders = this.props.cartData.map(cart =>{\r\n            return {\r\n                name:  cart.name,\r\n                price : cart.price,\r\n                quantity:cart.quantity,\r\n                image: cart.image,\r\n                customerID: this.props.users._id,\r\n                address: this.state.address,\r\n                contactNum: this.state.contactNum\r\n            }\r\n        })\r\n        \r\n        this.props.dispatch(addProductstoOrder(orders,refresh))\r\n    }\r\n    render(){\r\n        \r\n        return (\r\n            <div className ='container-fluid'>\r\n               \r\n                {\r\n                   this.props.cartData.length && this.state.readyToOrder ? \r\n                   <div className=\"row justify-content-between\">\r\n                    \r\n                            <h3 className=\"col-12\"> Confirm Order </h3>  <br/>\r\n                            <a href= '#' className=\" ml-3  text-monospace text-decoration-none\" onClick ={this.handleInfoEdit} \r\n                                    style ={{fontSize:'lg'}}>Edit</a>  \r\n                            <p className=\"col-12 mr-5 pr-5\"  style ={{wordWrap:'break-word'}} >  Delivery Address : {this.state.address} <br/> Mobile : {this.state.contactNum} </p>    \r\n                         \r\n                                 \r\n                        <div className=\"col-6\"> \r\n                        {\r\n                            this.props.cartData.map( (cart,i) =>{\r\n                                return (\r\n                                    <div className=\"card mb-2\"  key ={i+1}>\r\n                                        <div className=\"row no-gutters\">\r\n                                            <div className=\"col-md-1 mt-3\">\r\n                                                <img src={`${this.state.path}/${cart.image}`} className=\"card-img\" alt=\"No Image\" \r\n                                                /> \r\n                                            </div>\r\n                                            \r\n                                            <div className=\"col-md-10\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className='row'>\r\n                                                        <div className ='col'>  \r\n                                                            <h5 className=\"card-title\">{cart.name}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h5 className=\"card-text text-left mt-3\">\r\n                                                            <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" \r\n                                                                className=\"card-title text-left\"\r\n                                                                displayType = 'text' prefix={'₹'} value={cart.price }/>\r\n                                                                   &nbsp;&nbsp; Quantity - {cart.quantity}   \r\n                                                        </h5> \r\n                                                        \r\n                                                    </div>  \r\n                                                </div> \r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                            \r\n                        } \r\n                    </div>\r\n                  \r\n                   <div className=\"col-3  mr-auto ml-5\" style ={{height:'100%',width:'150%'}}>\r\n                       <div className=\"card\">\r\n                           <div className=\"card-header\">\r\n                               <h5>PRICE DETAILS</h5>\r\n                           </div>\r\n                           <div className=\"card-body\">\r\n                               <div className ='row justify-content-between'>\r\n                                   <h5 className=\"card-title float-left\">{`Price (${this.props.cartData.length} items)`} </h5> \r\n                                   <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={this.state.price}/>\r\n                                    </h5>\r\n                               </div>\r\n                              <div className ='row justify-content-between'>\r\n                                   <h5 className=\"card-title float-left\">TAX  </h5> \r\n                                   <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={ this.state.tax}/>\r\n                                    </h5>\r\n                              </div>\r\n                               \r\n                           </div>\r\n                           <div className=\"card-footer\">                                \r\n                               <h5 className=\"card-title float-left\">TOTAL PRICE </h5> \r\n                               <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={ this.state.price + this.state.tax}/>\r\n                                    </h5>\r\n                           </div>\r\n                           <input type= 'submit' id='submit' name ='submit' className ='btn btn-danger ' \r\n                                       value ='CONFIRM ORDER'  onClick = {this.handleOrders} /> \r\n                          \r\n                       </div>\r\n                       \r\n                   </div>\r\n                   \r\n               </div>\r\n                \r\n                   : \r\n                   <div className ='container-fluid ml-3'>\r\n                   <h3> Delivery Details: </h3>\r\n                   <div className='row mt-4'>\r\n                       <div className ='col-md-5 '>\r\n                           <form   encType=\"multipart/form-data\" onSubmit ={this.handleSubmit} >                              \r\n                               <div className = 'form-group'>\r\n                                   <label htmlFor='address' >Delivery Address:</label>\r\n                                   <textarea  id='address' required={true} name ='address'\r\n                                     className ='form-control h-40' rows='5' required = 'true'\r\n                                     placeholder ='Enter the address' value ={this.state.address}\r\n                                     onChange ={this.handleChange}   />\r\n                               </div>\r\n                               \r\n                                <div className = 'form-group'> \r\n                                <label htmlFor='contactNum' >Mobile Number:  [Please provide valid number to get order details as SMS]</label>                   \r\n                                    <div className=\"input-group mb-3\">                                        \r\n                                        <div className=\"input-group-prepend\">\r\n                                            <span className=\"input-group-text\" id=\"basic-addon1\">+91</span>\r\n                                        </div>\r\n                                        \r\n                                        <input type=\"text\" className=\"form-control\" placeholder=\"Mobile Number\" id= 'contactNum' required = 'true'\r\n                                            name= 'contactNum' value = {this.state.contactNum} onChange ={this.handleChange} />\r\n                                    </div>\r\n                                </div>\r\n                                 <input type ='submit' className ='btn btn-primary' value ='ADD DETAILS' />\r\n                            </form>\r\n                         </div>\r\n                    </div>\r\n                   </div>         \r\n                }\r\n            </div>\r\n        )\r\n    }\r\n} \r\n\r\nconst mapStateTOProps = (state) =>{\r\n    return{\r\n        cartData:state.cartData,\r\n        users : state.users\r\n    }\r\n}\r\nexport default connect(mapStateTOProps)(OrderCreate)\r\n "]},"metadata":{},"sourceType":"module"}