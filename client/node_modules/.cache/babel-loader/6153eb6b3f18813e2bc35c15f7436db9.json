{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\src\\\\components\\\\items\\\\updateProducts.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { updateProduct, getProductsbyID } from '../../actions/productAction';\n\nclass UpdateProduct extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleImage = e => {\n      const filepath = e.target.files[0];\n      this.setState({\n        [e.target.name]: filepath\n      }); //Image Review\n\n      const events = [e.target.id];\n      const reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        this.setState({\n          [events]: reader.result\n        });\n      }, false);\n      reader.readAsDataURL(filepath);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const formData = {\n        'name': this.state.name,\n        'description': this.state.description,\n        'price': this.state.price,\n        'quantity': this.state.quantity,\n        'categoryID': this.state.category,\n        'subCategoryID': this.state.subcategory\n      };\n\n      const redirect = () => {\n        return this.props.history.push('/products/list');\n      };\n\n      this.props.dispatch(updateProduct(formData, this.props.match.params.id, redirect));\n    };\n\n    this.state = {\n      name: '',\n      description: '',\n      category: '',\n      subcategory: '',\n      price: '',\n      quantity: '',\n      mainImage: '',\n      cartImage: '',\n      reviewmainImage: '',\n      reviewcartImage: ''\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getProductsbyID(this.props.match.params.id));\n    const refersh = setInterval(() => {\n      if (this.props.products.length) {\n        clearInterval(refersh);\n        const products = this.props.products[0];\n        this.setState({\n          name: products.name,\n          description: products.description,\n          category: products.categoryID,\n          subcategory: products.subCategoryID,\n          price: products.price,\n          quantity: products.quantity,\n          mainImage: products.mainImage,\n          cartImage: products.cartImage\n        });\n      }\n    }, 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \" Update Product \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }, \"Product Name :\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      required: true,\n      name: \"name\",\n      className: \"form-control\",\n      placeholder: \"Enter the Product name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, \"Category:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control w-50\",\n      name: \"category\",\n      id: \"category\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, \"--Select Category--\"), this.props.categories.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i + 1,\n        value: item._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 49\n        }\n      }, item.mainType);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"subcategory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, \"Sub Category:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control w-50\",\n      name: \"subcategory\",\n      id: \"subcategory\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    }, \"--Select Sub Category--\"), this.props.categories.map(item => {\n      if (item.subType.length === 0 && item._id === this.state.category) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: \"1\",\n          value: 'NA',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 53\n          }\n        }, \" Others \");\n      } else if (item._id === this.state.category) {\n        return item.subType.map((subtypes, j) => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            key: j + 1,\n            value: subtypes._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 57\n            }\n          }, subtypes.name);\n        });\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 33\n      }\n    }, \"Description :\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"description\",\n      required: true,\n      name: \"description\",\n      className: \"form-control h-50\",\n      rows: \"10\",\n      placeholder: \"Enter the description\",\n      value: this.state.description,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, \"Price :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text fa fa-rupee\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"price\",\n      required: true,\n      name: \"price\",\n      className: \"form-control\",\n      placeholder: \"Enter the Product price\",\n      value: this.state.price,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }, \"Quantity Avilable:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"quantity\",\n      required: true,\n      name: \"quantity\",\n      className: \"form-control\",\n      placeholder: \"Enter the Product quantity\",\n      value: this.state.quantity,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      name: \"submit\",\n      className: \"btn btn-success w-25\",\n      value: \"UPDATE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 33\n      }\n    })))), this.state.mainImage ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4  ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 37\n      }\n    }, \"Main Image Review\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: `${window.location.origin}/${this.state.mainImage}`,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    })) : '', this.state.cartImage ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2  ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 33\n      }\n    }, \"Cart Image Review\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: `${window.location.origin}/${this.state.cartImage}`,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 33\n      }\n    })) : ''));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products,\n    categories: state.categories\n  };\n};\n\nexport default connect(mapStateToProps)(UpdateProduct);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/items/updateProducts.js"],"names":["React","connect","updateProduct","getProductsbyID","UpdateProduct","Component","constructor","handleChange","e","setState","target","name","value","handleImage","filepath","files","events","id","reader","FileReader","addEventListener","result","readAsDataURL","handleSubmit","preventDefault","formData","state","description","price","quantity","category","subcategory","redirect","props","history","push","dispatch","match","params","mainImage","cartImage","reviewmainImage","reviewcartImage","componentDidMount","refersh","setInterval","products","length","clearInterval","categoryID","subCategoryID","render","categories","map","item","i","_id","mainType","subType","subtypes","j","window","location","origin","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA8C,6BAA9C;;AAEA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAA2C;AACvCC,EAAAA,WAAW,GAAE;AACT;;AADS,SAqCbC,YArCa,GAqCEC,CAAD,IAAM;AAChB,WAAKC,QAAL,CAAc;AACV,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAkBH,CAAC,CAACE,MAAF,CAASE;AADjB,OAAd;AAGH,KAzCY;;AAAA,SA2CbC,WA3Ca,GA2CCL,CAAD,IAAM;AACf,YAAMM,QAAQ,GAAGN,CAAC,CAACE,MAAF,CAASK,KAAT,CAAe,CAAf,CAAjB;AACA,WAAKN,QAAL,CAAc;AACV,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAgBG;AADN,OAAd,EAFe,CAMf;;AACC,YAAME,MAAM,GAAG,CAACR,CAAC,CAACE,MAAF,CAASO,EAAV,CAAf;AACD,YAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,gBAAP,CAAwB,MAAxB,EAA+B,MAAK;AAChC,aAAKX,QAAL,CAAc;AAAE,WAACO,MAAD,GAASE,MAAM,CAACG;AAAlB,SAAd;AACH,OAFD,EAEE,KAFF;AAGAH,MAAAA,MAAM,CAACI,aAAP,CAAqBR,QAArB;AACH,KAxDY;;AAAA,SA0DbS,YA1Da,GA0DGf,CAAD,IAAM;AACjBA,MAAAA,CAAC,CAACgB,cAAF;AAEA,YAAMC,QAAQ,GAAG;AACb,gBAAO,KAAKC,KAAL,CAAWf,IADL;AAEb,uBAAe,KAAKe,KAAL,CAAWC,WAFb;AAGb,iBAAQ,KAAKD,KAAL,CAAWE,KAHN;AAIb,oBAAW,KAAKF,KAAL,CAAWG,QAJT;AAKb,sBAAa,KAAKH,KAAL,CAAWI,QALX;AAMb,yBAAgB,KAAKJ,KAAL,CAAWK;AANd,OAAjB;;AASA,YAAMC,QAAQ,GAAG,MAAK;AAClB,eAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,gBAAxB,CAAP;AACH,OAFD;;AAKA,WAAKF,KAAL,CAAWG,QAAX,CAAoBlC,aAAa,CAACuB,QAAD,EAAU,KAAKQ,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBrB,EAAlC,EAAqCe,QAArC,CAAjC;AAEH,KA7EY;;AAET,SAAKN,KAAL,GAAa;AACTf,MAAAA,IAAI,EAAC,EADI;AAETgB,MAAAA,WAAW,EAAC,EAFH;AAGTG,MAAAA,QAAQ,EAAG,EAHF;AAITC,MAAAA,WAAW,EAAE,EAJJ;AAKTH,MAAAA,KAAK,EAAC,EALG;AAMTC,MAAAA,QAAQ,EAAC,EANA;AAOTU,MAAAA,SAAS,EAAC,EAPD;AAQTC,MAAAA,SAAS,EAAC,EARD;AASTC,MAAAA,eAAe,EAAC,EATP;AAUTC,MAAAA,eAAe,EAAC;AAVP,KAAb;AAYH;;AAEDC,EAAAA,iBAAiB,GAAG;AAEhB,SAAKV,KAAL,CAAWG,QAAX,CAAoBjC,eAAe,CAAE,KAAK8B,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBrB,EAA1B,CAAnC;AACA,UAAM2B,OAAO,GAAIC,WAAW,CAAE,MAAK;AAC/B,UAAG,KAAKZ,KAAL,CAAWa,QAAX,CAAoBC,MAAvB,EAAgC;AAC5BC,QAAAA,aAAa,CAACJ,OAAD,CAAb;AACA,cAAME,QAAQ,GAAK,KAAKb,KAAL,CAAWa,QAAX,CAAoB,CAApB,CAAnB;AACA,aAAKrC,QAAL,CAAc;AACVE,UAAAA,IAAI,EAAEmC,QAAQ,CAACnC,IADL;AAEVgB,UAAAA,WAAW,EAACmB,QAAQ,CAACnB,WAFX;AAGVG,UAAAA,QAAQ,EAAGgB,QAAQ,CAACG,UAHV;AAIVlB,UAAAA,WAAW,EAAEe,QAAQ,CAACI,aAJZ;AAKVtB,UAAAA,KAAK,EAACkB,QAAQ,CAAClB,KALL;AAMVC,UAAAA,QAAQ,EAACiB,QAAQ,CAACjB,QANR;AAOVU,UAAAA,SAAS,EAACO,QAAQ,CAACP,SAPT;AAQVC,UAAAA,SAAS,EAACM,QAAQ,CAACN;AART,SAAd;AAUH;AACJ,KAf2B,EAexB,IAfwB,CAA5B;AAgBH;;AA4CDW,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAE,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAE,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAC,qBAAhB;AAAsC,MAAA,QAAQ,EAAG,KAAK5B,YAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAO,MAAA,IAAI,EAAE,MAAb;AAAmB,MAAA,EAAE,EAAC,MAAtB;AAA6B,MAAA,QAAQ,EAAE,IAAvC;AAA6C,MAAA,IAAI,EAAE,MAAnD;AAA0D,MAAA,SAAS,EAAE,cAArE;AACI,MAAA,WAAW,EAAE,wBADjB;AAC0C,MAAA,KAAK,EAAG,KAAKG,KAAL,CAAWf,IAD7D;AACmE,MAAA,QAAQ,EAAG,KAAKJ,YADnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAOI;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,IAAI,EAAG,UAA7C;AAAyD,MAAA,EAAE,EAAE,UAA7D;AAAwE,MAAA,QAAQ,EAAG,KAAKA,YAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAGQ,KAAK0B,KAAL,CAAWmB,UAAX,CAAsBC,GAAtB,CAA2B,CAACC,IAAD,EAAMC,CAAN,KAAU;AACjC,0BACI;AAAQ,QAAA,GAAG,EAAGA,CAAC,GAAC,CAAhB;AAAmB,QAAA,KAAK,EAAGD,IAAI,CAACE,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwCF,IAAI,CAACG,QAA7C,CADJ;AAGH,KAJD,CAHR,CAHJ,CAPJ,eAuBG;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACK;AAAO,MAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADL,eAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFL,eAGK;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,IAAI,EAAE,aAA5C;AAA0D,MAAA,EAAE,EAAC,aAA7D;AAA2E,MAAA,QAAQ,EAAI,KAAKlD,YAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,EAGQ,KAAK0B,KAAL,CAAWmB,UAAX,CAAsBC,GAAtB,CAA4BC,IAAD,IAAS;AAEhC,UAAGA,IAAI,CAACI,OAAL,CAAaX,MAAb,KAAsB,CAAtB,IAA2BO,IAAI,CAACE,GAAL,KAAa,KAAK9B,KAAL,CAAWI,QAAtD,EACA;AACI,4BACI;AAAQ,UAAA,GAAG,EAAE,GAAb;AAAiB,UAAA,KAAK,EAAG,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ;AAGH,OALD,MAMK,IAAKwB,IAAI,CAACE,GAAL,KAAa,KAAK9B,KAAL,CAAWI,QAA7B,EAAsC;AACvC,eAAOwB,IAAI,CAACI,OAAL,CAAaL,GAAb,CAAiB,CAACM,QAAD,EAAUC,CAAV,KAAc;AAClC,8BACI;AAAQ,YAAA,GAAG,EAAGA,CAAC,GAAC,CAAhB;AAAmB,YAAA,KAAK,EAAGD,QAAQ,CAACH,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACMG,QAAQ,CAAChD,IADf,CADJ;AAIH,SALM,CAAP;AAMH;AACJ,KAhBD,CAHR,CAHL,CAvBH,eAmDI;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAW,MAAA,EAAE,EAAC,aAAd;AAA4B,MAAA,QAAQ,EAAE,IAAtC;AAA4C,MAAA,IAAI,EAAE,aAAlD;AACK,MAAA,SAAS,EAAE,mBADhB;AACoC,MAAA,IAAI,EAAC,IADzC;AAC8C,MAAA,WAAW,EAAE,uBAD3D;AACmF,MAAA,KAAK,EAAG,KAAKe,KAAL,CAAWC,WADtG;AAEK,MAAA,QAAQ,EAAG,KAAKpB,YAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAnDJ,eA0DI;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA1DJ,eA2DI;AAAK,MAAA,SAAS,EAAG,6BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,8BAAhB;AAA+C,MAAA,EAAE,EAAC,cAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAKI;AAAO,MAAA,IAAI,EAAE,MAAb;AAAoB,MAAA,EAAE,EAAC,OAAvB;AAA+B,MAAA,QAAQ,EAAE,IAAzC;AAA+C,MAAA,IAAI,EAAE,OAArD;AAA6D,MAAA,SAAS,EAAE,cAAxE;AACI,MAAA,WAAW,EAAE,yBADjB;AAC2C,MAAA,KAAK,EAAG,KAAKmB,KAAL,CAAWE,KAD9D;AACqE,MAAA,QAAQ,EAAG,KAAKrB,YADrF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CA3DJ,eAoEI;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAO,MAAA,IAAI,EAAE,MAAb;AAAmB,MAAA,EAAE,EAAC,UAAtB;AAAiC,MAAA,QAAQ,EAAE,IAA3C;AAAiD,MAAA,IAAI,EAAE,UAAvD;AAAkE,MAAA,SAAS,EAAE,cAA7E;AACI,MAAA,WAAW,EAAE,4BADjB;AAC8C,MAAA,KAAK,EAAG,KAAKmB,KAAL,CAAWG,QADjE;AAC2E,MAAA,QAAQ,EAAG,KAAKtB,YAD3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CApEJ,eA2EI;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAE,QAAb;AAAsB,MAAA,EAAE,EAAC,QAAzB;AAAkC,MAAA,IAAI,EAAE,QAAxC;AAAiD,MAAA,SAAS,EAAE,sBAA5D;AACI,MAAA,KAAK,EAAE,QADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA3EJ,CADJ,CADJ,EAoFY,KAAKmB,KAAL,CAAWa,SAAX,gBACI;AAAK,MAAA,SAAS,EAAE,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAEI;AAAK,MAAA,GAAG,EAAK,GAAEsB,MAAM,CAACC,QAAP,CAAgBC,MAAO,IAAG,KAAKrC,KAAL,CAAWa,SAAU,EAA9D;AAAkE,MAAA,GAAG,EAAC,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,GAMK,EA1FjB,EA6FY,KAAKb,KAAL,CAAWc,SAAX,gBACA;AAAK,MAAA,SAAS,EAAE,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAEI;AAAK,MAAA,GAAG,EAAK,GAAEqB,MAAM,CAACC,QAAP,CAAgBC,MAAO,IAAG,KAAKrC,KAAL,CAAWc,SAAU,EAA9D;AAAkE,MAAA,GAAG,EAAC,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADA,GAKC,EAlGb,CAFJ,CADJ;AA2GH;;AA5LsC;;AAgM3C,MAAMwB,eAAe,GAAGtC,KAAD,IAAU;AAC7B,SAAM;AACFoB,IAAAA,QAAQ,EAAGpB,KAAK,CAACoB,QADf;AAEDM,IAAAA,UAAU,EAAE1B,KAAK,CAAC0B;AAFjB,GAAN;AAKH,CAND;;AAOA,eAAenD,OAAO,CAAC+D,eAAD,CAAP,CAAyB5D,aAAzB,CAAf","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'  \r\nimport { updateProduct ,getProductsbyID} from '../../actions/productAction' \r\n\r\nclass UpdateProduct extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            name:'',\r\n            description:'',\r\n            category : '',\r\n            subcategory :'',\r\n            price:'',\r\n            quantity:'',\r\n            mainImage:'',\r\n            cartImage:'',\r\n            reviewmainImage:'',\r\n            reviewcartImage:''             \r\n        }\r\n    }\r\n\r\n    componentDidMount() { \r\n\r\n        this.props.dispatch(getProductsbyID( this.props.match.params.id ))     \r\n        const refersh =  setInterval( () =>{  \r\n            if(this.props.products.length ) {             \r\n                clearInterval(refersh)                  \r\n                const products =   this.props.products[0] \r\n                this.setState({\r\n                    name :products.name,\r\n                    description:products.description,\r\n                    category : products.categoryID,\r\n                    subcategory :products.subCategoryID,\r\n                    price:products.price,\r\n                    quantity:products.quantity,\r\n                    mainImage:products.mainImage,\r\n                    cartImage:products.cartImage\r\n                })\r\n            }\r\n        } , 1000)\r\n    }\r\n\r\n    handleChange =(e) =>{\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    handleImage =(e) =>{\r\n        const filepath = e.target.files[0]        \r\n        this.setState({\r\n            [e.target.name]:filepath\r\n        })\r\n         \r\n        //Image Review\r\n         const events = [e.target.id]          \r\n        const reader = new FileReader()\r\n        reader.addEventListener(\"load\",( )=>{                    \r\n            this.setState({ [events]:reader.result})\r\n        },false)\r\n        reader.readAsDataURL(filepath)\r\n    }\r\n\r\n    handleSubmit = (e) =>{\r\n        e.preventDefault()\r\n\r\n        const formData = {\r\n            'name':this.state.name,\r\n            'description': this.state.description,\r\n            'price':this.state.price,\r\n            'quantity':this.state.quantity,\r\n            'categoryID':this.state.category,\r\n            'subCategoryID':this.state.subcategory \r\n        }\r\n         \r\n        const redirect = () =>{\r\n            return this.props.history.push('/products/list')             \r\n        }\r\n\r\n\r\n        this.props.dispatch(updateProduct(formData,this.props.match.params.id,redirect))\r\n      \r\n    }\r\n\r\n    render(){  \r\n        return( \r\n            <div className ='container-fluid ml-3'>\r\n                <h3> Update Product </h3>\r\n                <div className='row '>\r\n                    <div className ='col-5 border'>\r\n                        <form   encType=\"multipart/form-data\" onSubmit ={this.handleSubmit} >                              \r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='name' >Product Name :</label>\r\n                                <input type= 'text'id='name' required={true} name ='name' className ='form-control' \r\n                                    placeholder ='Enter the Product name' value ={this.state.name} onChange ={this.handleChange}  />\r\n                            </div>\r\n                            {/* category list */}\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='category' >Category:</label>                                    \r\n                                <br/>\r\n                                <select className=\"form-control w-50\" name = 'category'  id ='category' onChange ={this.handleChange}>        \r\n                                    <option>--Select Category--</option>                               \r\n                                    {\r\n                                        this.props.categories.map ((item,i)=>{\r\n                                            return(\r\n                                                <option key ={i+1} value ={item._id}  >{item.mainType}</option>\r\n                                            )\r\n                                        })    \r\n                                    }\r\n                                </select>                      \r\n                                \r\n                            </div>\r\n                           {/* Sub category list */}\r\n                           <div className = 'form-group'>\r\n                                <label htmlFor='subcategory' >Sub Category:</label>                                    \r\n                                <br/>\r\n                                <select className=\"form-control w-50\" name ='subcategory' id='subcategory' onChange = {this.handleChange}>  \r\n                                    <option>--Select Sub Category--</option>                                      \r\n                                    {\r\n                                        this.props.categories.map ((item)=> {                                           \r\n                                            \r\n                                            if(item.subType.length===0 && item._id === this.state.category)\r\n                                            {\r\n                                                return (\r\n                                                    <option key ='1' value ={'NA'}   > Others </option>\r\n                                                )\r\n                                            }\r\n                                            else if(  item._id === this.state.category){\r\n                                                return item.subType.map((subtypes,j)=>{                                                        \r\n                                                    return(\r\n                                                        <option key ={j+1} value ={subtypes._id} \r\n                                                            >{subtypes.name}</option>\r\n                                                    )\r\n                                                })\r\n                                            } \r\n                                        })    \r\n                                    }\r\n                                </select>                    \r\n                                 \r\n                            </div>\r\n\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='description' >Description :</label>\r\n                                <textarea  id='description' required={true} name ='description'\r\n                                     className ='form-control h-50' rows='10' placeholder ='Enter the description' value ={this.state.description}\r\n                                     onChange ={this.handleChange}   />\r\n                            </div>\r\n                            \r\n                            <label htmlFor='price' >Price :</label>                                  \r\n                            <div className = 'form-group input-group mb-3'>\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text fa fa-rupee\" id=\"basic-addon1\"></span>\r\n                                </div>\r\n                                \r\n                                <input type= 'text' id='price' required={true} name ='price' className ='form-control' \r\n                                    placeholder ='Enter the Product price' value ={this.state.price} onChange ={this.handleChange}  /> \r\n                            </div>\r\n\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='quantity' >Quantity Avilable:</label>\r\n                                <input type= 'text'id='quantity' required={true} name ='quantity' className ='form-control' \r\n                                    placeholder ='Enter the Product quantity' value ={this.state.quantity} onChange ={this.handleChange}  />\r\n                            </div>\r\n \r\n                            \r\n                            <div className = 'form-group'> \r\n                                <input type= 'submit' id='submit' name ='submit' className ='btn btn-success w-25' \r\n                                    value ='UPDATE'  />\r\n                            </div>\r\n                        </form>  \r\n                    </div>\r\n                        {\r\n                            this.state.mainImage   ? \r\n                                <div className ='col-4  ml-4'>\r\n                                    <h5>Main Image Review</h5>\r\n                                    <img src = {`${window.location.origin}/${this.state.mainImage}`}  alt=''/> \r\n                                    \r\n                                </div>\r\n                                :'' \r\n                        }\r\n                        {\r\n                            this.state.cartImage ? \r\n                            <div className ='col-2  ml-1'>\r\n                                <h5>Cart Image Review</h5>\r\n                                <img src = {`${window.location.origin}/${this.state.cartImage}`}  alt=''/> \r\n                            </div>\r\n                            :'' \r\n                        }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps =(state) =>{\r\n    return{\r\n        products : state.products,\r\n         categories :state.categories\r\n\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(UpdateProduct)"]},"metadata":{},"sourceType":"module"}