{"ast":null,"code":"import _classCallCheck from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import NumberFormat from'react-number-format';import{Link}from'react-router-dom';import{getProducttoCart,deleteProducttoCart,updateCartQuantity}from'../../actions/cartAction';import{connect}from'react-redux';var Cart=/*#__PURE__*/function(_React$Component){_inherits(Cart,_React$Component);var _super=_createSuper(Cart);function Cart(){var _this;_classCallCheck(this,Cart);_this=_super.call(this);_this.componentDidMount=function(){_this.props.dispatch(getProducttoCart());var refersh=setInterval(function(){if(_this.props.cartData.length){clearInterval(refersh);var price=0;_this.props.cartData.map(function(cart){price+=cart.price*cart.quantity;return price;});if(price>0){var tax=price*1/100;_this.setState({price:price,tax:tax});}}},1000);};_this.handleCartQuantity=function(e,cart){var valTYpe=e.target.name;if(valTYpe==='less'&&cart.quantity===1){alert('Item quantity can not be less than 1');}else if(cart.quantity>=3&&valTYpe==='add'){alert('Upto 3 quantity only purchase at a time ');}var refresh=function refresh(){return window.location.reload();};if(valTYpe==='less'&&cart.quantity>1){var formData={id:cart.productID,cartQuantity:-1,cartid:cart._id,productQuantity:1,currentQuantity:cart.quantity,auth:localStorage.getItem('token')};_this.props.dispatch(updateCartQuantity(formData,refresh));}else if(valTYpe==='add'&&cart.quantity>=1&&cart.quantity<3){var _formData={id:cart.productID,cartQuantity:1,cartid:cart._id,productQuantity:-1,currentQuantity:cart.quantity,auth:localStorage.getItem('token')};_this.props.dispatch(updateCartQuantity(_formData,refresh));}};_this.handleRemove=function(e){var id=e.target.value;var refresh=function refresh(){return window.location.reload();};_this.props.dispatch(deleteProducttoCart(id,refresh));};_this.state={path:window.location.origin,price:0,tax:0};return _this;}_createClass(Cart,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid m-3 \"},/*#__PURE__*/React.createElement(\"h4\",{style:{visibility:this.props.cartData.length?'visible':'hidden'}},\" My Cart\"),this.props.cartData.length?/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},this.props.cartData.map(function(cart,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-2\",key:i+1},/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 mt-3\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(_this2.state.path,\"/\").concat(cart.image),className:\"card-img\",alt:\"No Image\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},cart.name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{className:\"card-text text-left mt-3\"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title text-left\",displayType:\"text\",prefix:'₹',value:cart.price}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"card-text border-white rounded-circle\",name:\"less\",onClick:function onClick(e){_this2.handleCartQuantity(e,cart);},value:\"-\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:true,value:cart.quantity,className:\"text-center w-25\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"card-text border-white rounded-circle\",name:\"add\",onClick:function onClick(e){_this2.handleCartQuantity(e,cart);},value:\"+\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-7\"},/*#__PURE__*/React.createElement(\"button\",{className:\"card-text float-right btn btn-danger mt-3\",value:cart._id,onClick:_this2.handleRemove},\" Remove\")))))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  mr-auto ml-5\",style:{height:'100%',width:'150%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h5\",null,\"PRICE DETAILS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-left\"},\"Price (\".concat(this.props.cartData.length,\" items)\"),\" \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-right\"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title float-right\",displayType:\"text\",prefix:'₹',value:this.state.price}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-left\"},\"TAX  \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-right\"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title float-right\",displayType:\"text\",prefix:'₹',value:this.state.tax})))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-left\"},\"TOTAL PRICE \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-right\"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title float-right\",displayType:\"text\",prefix:'₹',value:this.state.price+this.state.tax}))),/*#__PURE__*/React.createElement(Link,{to:\"/orders/add\",id:\"submit\",name:\"submit\",className:\"btn btn-danger \"},\" PLACE ORDER \")))):/*#__PURE__*/React.createElement(\"div\",{className:\"container border mx-auto\",style:{height:'200px'}},/*#__PURE__*/React.createElement(\"h4\",null,\" My Cart\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-11 offset-md-9\"},/*#__PURE__*/React.createElement(\"h5\",null,\" Your cart is empty! \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-md-center mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-11 offset-md-9\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"btn btn-primary\"},\" Shop More..\")))));}}]);return Cart;}(React.Component);var mapStateTOProps=function mapStateTOProps(state){return{cartData:state.cartData,users:state.users};};export default connect(mapStateTOProps)(Cart);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/cart/carview.js"],"names":["React","NumberFormat","Link","getProducttoCart","deleteProducttoCart","updateCartQuantity","connect","Cart","componentDidMount","props","dispatch","refersh","setInterval","cartData","length","clearInterval","price","map","cart","quantity","tax","setState","handleCartQuantity","e","valTYpe","target","name","alert","refresh","window","location","reload","formData","id","productID","cartQuantity","cartid","_id","productQuantity","currentQuantity","auth","localStorage","getItem","handleRemove","value","state","path","origin","visibility","i","image","height","width","Component","mapStateTOProps","users"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACC,OAAQC,gBAAR,CAAyBC,mBAAzB,CAA6CC,kBAA7C,KAAsE,0BAAtE,CACD,OAASC,OAAT,KAAwB,aAAxB,C,GAEMC,CAAAA,I,wGAEF,eAAa,sCACT,wBADS,MASbC,iBATa,CASM,UAAI,CACnB,MAAKC,KAAL,CAAWC,QAAX,CAAoBP,gBAAgB,EAApC,EACA,GAAMQ,CAAAA,OAAO,CAAIC,WAAW,CAAE,UAAK,CAC/B,GAAG,MAAKH,KAAL,CAAWI,QAAX,CAAoBC,MAAvB,CAAgC,CAC5BC,aAAa,CAACJ,OAAD,CAAb,CACA,GAAIK,CAAAA,KAAK,CAAG,CAAZ,CACA,MAAKP,KAAL,CAAWI,QAAX,CAAoBI,GAApB,CAAyB,SAAAC,IAAI,CAAG,CAC5BF,KAAK,EAAIE,IAAI,CAACF,KAAL,CAAaE,IAAI,CAACC,QAA3B,CACA,MAAOH,CAAAA,KAAP,CACH,CAHD,EAKA,GAAIA,KAAK,CAAG,CAAZ,CAAe,CACX,GAAMI,CAAAA,GAAG,CAAGJ,KAAK,CAAG,CAAR,CAAW,GAAvB,CACA,MAAKK,QAAL,CAAc,CAACL,KAAK,CAALA,KAAD,CAAOI,GAAG,CAAHA,GAAP,CAAd,EACH,CACJ,CACJ,CAd2B,CAcxB,IAdwB,CAA5B,CAeH,CA1BY,OA4BbE,kBA5Ba,CA4BQ,SAACC,CAAD,CAAKL,IAAL,CAAa,CAC9B,GAAMM,CAAAA,OAAO,CAAGD,CAAC,CAACE,MAAF,CAASC,IAAzB,CAEA,GAAGF,OAAO,GAAK,MAAZ,EAAsBN,IAAI,CAACC,QAAL,GAAkB,CAA3C,CAA+C,CAC3CQ,KAAK,CAAE,sCAAF,CAAL,CACH,CAFD,IAEO,IAAIT,IAAI,CAACC,QAAL,EAAiB,CAAjB,EAAsBK,OAAO,GAAK,KAAtC,CAA6C,CAChDG,KAAK,CAAC,0CAAD,CAAL,CACH,CAED,GAAMC,CAAAA,OAAO,CAAE,QAATA,CAAAA,OAAS,EAAK,CAChB,MAAOC,CAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAP,CACH,CAFD,CAIA,GAAGP,OAAO,GAAK,MAAZ,EAAuBN,IAAI,CAACC,QAAL,CAAgB,CAA1C,CAA8C,CAC1C,GAAMa,CAAAA,QAAQ,CAAG,CACbC,EAAE,CAAGf,IAAI,CAACgB,SADG,CAEbC,YAAY,CAAG,CAAC,CAFH,CAGbC,MAAM,CAAGlB,IAAI,CAACmB,GAHD,CAIbC,eAAe,CAAG,CAJL,CAKbC,eAAe,CAAGrB,IAAI,CAACC,QALV,CAMbqB,IAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CANM,CAAjB,CAUA,MAAKjC,KAAL,CAAWC,QAAX,CAAoBL,kBAAkB,CAAC2B,QAAD,CAAUJ,OAAV,CAAtC,EAEH,CAbD,IAaO,IAAGJ,OAAO,GAAK,KAAZ,EAAsBN,IAAI,CAACC,QAAL,EAAgB,CAAtC,EAA2CD,IAAI,CAACC,QAAL,CAAgB,CAA9D,CAAiE,CACpE,GAAMa,CAAAA,SAAQ,CAAG,CACbC,EAAE,CAAGf,IAAI,CAACgB,SADG,CAEbC,YAAY,CAAG,CAFF,CAGbC,MAAM,CAAGlB,IAAI,CAACmB,GAHD,CAIbC,eAAe,CAAG,CAAC,CAJN,CAKbC,eAAe,CAAGrB,IAAI,CAACC,QALV,CAMbqB,IAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CANM,CAAjB,CAQA,MAAKjC,KAAL,CAAWC,QAAX,CAAoBL,kBAAkB,CAAC2B,SAAD,CAAUJ,OAAV,CAAtC,EACH,CAGJ,CAnEY,OAqEbe,YArEa,CAqEE,SAACpB,CAAD,CAAM,CACjB,GAAMU,CAAAA,EAAE,CAAGV,CAAC,CAACE,MAAF,CAASmB,KAApB,CAEA,GAAMhB,CAAAA,OAAO,CAAE,QAATA,CAAAA,OAAS,EAAK,CAChB,MAAOC,CAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAP,CACH,CAFD,CAGA,MAAKtB,KAAL,CAAWC,QAAX,CAAoBN,mBAAmB,CAAC6B,EAAD,CAAKL,OAAL,CAAvC,EAEH,CA7EY,CAET,MAAKiB,KAAL,CAAW,CACPC,IAAI,CAAGjB,MAAM,CAACC,QAAP,CAAgBiB,MADhB,CAEP/B,KAAK,CAAE,CAFA,CAGPI,GAAG,CAAG,CAHC,CAAX,CAFS,aAQZ,C,wDAyEQ,iBAEL,mBACI,2BAAK,SAAS,CAAE,sBAAhB,eACK,0BAAI,KAAK,CAAG,CAAE4B,UAAU,CAAG,KAAKvC,KAAL,CAAWI,QAAX,CAAoBC,MAApB,CAA6B,SAA7B,CAAyC,QAAxD,CAAZ,aADL,CAGO,KAAKL,KAAL,CAAWI,QAAX,CAAoBC,MAApB,cACA,2BAAK,SAAS,CAAC,6BAAf,eACK,2BAAK,SAAS,CAAC,OAAf,EAEI,KAAKL,KAAL,CAAWI,QAAX,CAAoBI,GAApB,CAAyB,SAACC,IAAD,CAAM+B,CAAN,CAAW,CAChC,mBACI,2BAAK,SAAS,CAAC,WAAf,CAA4B,GAAG,CAAGA,CAAC,CAAC,CAApC,eACI,2BAAK,SAAS,CAAC,gBAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,2BAAK,GAAG,WAAK,MAAI,CAACJ,KAAL,CAAWC,IAAhB,aAAwB5B,IAAI,CAACgC,KAA7B,CAAR,CAA8C,SAAS,CAAC,UAAxD,CAAmE,GAAG,CAAC,UAAvE,EADJ,CADJ,cAMI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAE,KAAhB,eACI,0BAAI,SAAS,CAAC,YAAd,EAA4BhC,IAAI,CAACQ,IAAjC,CADJ,CADJ,CADJ,cAMI,4CACI,0BAAI,SAAS,CAAC,0BAAd,eACI,oBAAC,YAAD,EAAc,iBAAiB,CAAE,IAAjC,CAAuC,mBAAmB,CAAC,MAA3D,CACI,SAAS,CAAC,sBADd,CAEI,WAAW,CAAG,MAFlB,CAEyB,MAAM,CAAE,GAFjC,CAEsC,KAAK,CAAER,IAAI,CAACF,KAFlD,EADJ,CADJ,CANJ,cAaI,2BAAK,SAAS,CAAE,UAAhB,eACI,2BAAK,SAAS,CAAE,OAAhB,eACI,6BAAO,IAAI,CAAE,QAAb,CAAsB,SAAS,CAAE,uCAAjC,CAAyE,IAAI,CAAG,MAAhF,CACI,OAAO,CAAK,iBAACO,CAAD,CAAO,CAAC,MAAI,CAACD,kBAAL,CAAyBC,CAAzB,CAA2BL,IAA3B,EAAiC,CADzD,CAC6D,KAAK,CAAG,GADrE,EADJ,cAII,6BAAO,IAAI,CAAE,MAAb,CAAoB,QAAQ,KAA5B,CAA6B,KAAK,CAAIA,IAAI,CAACC,QAA3C,CACI,SAAS,CAAE,kBADf,EAJJ,cAMK,6BAAO,IAAI,CAAE,QAAb,CAAsB,SAAS,CAAE,uCAAjC,CACC,IAAI,CAAG,KADR,CACe,OAAO,CAAK,iBAACI,CAAD,CAAO,CAAC,MAAI,CAACD,kBAAL,CAAyBC,CAAzB,CAA2BL,IAA3B,EAAiC,CADpE,CACwE,KAAK,CAAG,GADhF,EANL,CADJ,cAWI,2BAAK,SAAS,CAAE,OAAhB,eACI,8BAAQ,SAAS,CAAC,2CAAlB,CACI,KAAK,CAAGA,IAAI,CAACmB,GADjB,CACsB,OAAO,CAAG,MAAI,CAACM,YADrC,YADJ,CAXJ,CAbJ,CADJ,CANJ,CADJ,CADJ,CA+CH,CAhDD,CAFJ,CADL,cAwDA,2BAAK,SAAS,CAAC,qBAAf,CAAqC,KAAK,CAAG,CAACQ,MAAM,CAAC,MAAR,CAAeC,KAAK,CAAC,MAArB,CAA7C,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,aAAf,eACI,8CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAE,6BAAhB,eACI,0BAAI,SAAS,CAAC,uBAAd,mBAAiD,KAAK3C,KAAL,CAAWI,QAAX,CAAoBC,MAArE,gBADJ,cAEI,0BAAI,SAAS,CAAC,wBAAd,eACC,oBAAC,YAAD,EAAc,iBAAiB,CAAE,IAAjC,CAAuC,mBAAmB,CAAC,MAA3D,CAAkE,SAAS,CAAC,wBAA5E,CACI,WAAW,CAAG,MADlB,CACyB,MAAM,CAAE,GADjC,CACsC,KAAK,CAAE,KAAK+B,KAAL,CAAW7B,KADxD,EADD,CAFJ,CADJ,cAQG,2BAAK,SAAS,CAAE,6BAAhB,eACK,0BAAI,SAAS,CAAC,uBAAd,UADL,cAEK,0BAAI,SAAS,CAAC,wBAAd,eACC,oBAAC,YAAD,EAAc,iBAAiB,CAAE,IAAjC,CAAuC,mBAAmB,CAAC,MAA3D,CAAkE,SAAS,CAAC,wBAA5E,CACI,WAAW,CAAG,MADlB,CACyB,MAAM,CAAE,GADjC,CACsC,KAAK,CAAG,KAAK6B,KAAL,CAAWzB,GADzD,EADD,CAFL,CARH,CAJJ,cAqBI,2BAAK,SAAS,CAAC,aAAf,eACI,0BAAI,SAAS,CAAC,uBAAd,iBADJ,cAEI,0BAAI,SAAS,CAAC,wBAAd,eACK,oBAAC,YAAD,EAAc,iBAAiB,CAAE,IAAjC,CAAuC,mBAAmB,CAAC,MAA3D,CAAkE,SAAS,CAAC,wBAA5E,CACI,WAAW,CAAG,MADlB,CACyB,MAAM,CAAE,GADjC,CACsC,KAAK,CAAG,KAAKyB,KAAL,CAAW7B,KAAX,CAAmB,KAAK6B,KAAL,CAAWzB,GAD5E,EADL,CAFJ,CArBJ,cA8BK,oBAAC,IAAD,EAAM,EAAE,CAAE,aAAV,CAAwB,EAAE,CAAC,QAA3B,CAAoC,IAAI,CAAE,QAA1C,CAAmD,SAAS,CAAE,iBAA9D,kBA9BL,CADJ,CAxDA,CADA,cAgGA,2BAAK,SAAS,CAAG,0BAAjB,CAA4C,KAAK,CAAG,CAAC+B,MAAM,CAAC,OAAR,CAApD,eACC,yCADD,cAEI,2BAAK,SAAS,CAAC,oCAAf,eACK,2BAAK,SAAS,CAAC,oBAAf,eACI,sDADJ,CADL,CAFJ,cAQK,2BAAK,SAAS,CAAC,oCAAf,eACI,2BAAK,SAAS,CAAC,oBAAf,eACG,oBAAC,IAAD,EAAM,EAAE,CAAG,GAAX,CAAe,SAAS,CAAE,iBAA1B,iBADH,CADJ,CARL,CAnGP,CADJ,CAsHH,C,kBA3McnD,KAAK,CAACqD,S,EA8MzB,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACT,KAAD,CAAU,CAC9B,MAAM,CACFhC,QAAQ,CAACgC,KAAK,CAAChC,QADb,CAEF0C,KAAK,CAAGV,KAAK,CAACU,KAFZ,CAAN,CAIH,CALD,CAMA,cAAejD,CAAAA,OAAO,CAACgD,eAAD,CAAP,CAAyB/C,IAAzB,CAAf","sourcesContent":["import React from 'react'\r\nimport NumberFormat from 'react-number-format' \r\nimport {Link} from 'react-router-dom'\r\n import {getProducttoCart,deleteProducttoCart,updateCartQuantity} from '../../actions/cartAction'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Cart extends React.Component {\r\n\r\n    constructor(){\r\n        super()\r\n        this.state={             \r\n            path : window.location.origin ,\r\n            price :0 ,\r\n            tax : 0  \r\n\r\n        }\r\n    }\r\n    componentDidMount =()=>{\r\n        this.props.dispatch(getProducttoCart()) \r\n        const refersh =  setInterval( () =>{  \r\n            if(this.props.cartData.length ) {             \r\n                clearInterval(refersh)   \r\n                let price = 0\r\n                this.props.cartData.map( cart =>{\r\n                    price += cart.price * cart.quantity\r\n                    return price  \r\n                })   \r\n                \r\n                if (price > 0 ){\r\n                    const tax = price * 1 /100\r\n                    this.setState({price,tax})\r\n                }\r\n            }\r\n        } , 1000)\r\n    }\r\n\r\n    handleCartQuantity = (e , cart) =>{\r\n        const valTYpe = e.target.name \r\n\r\n        if(valTYpe === 'less' && cart.quantity === 1 ) {           \r\n            alert ('Item quantity can not be less than 1')\r\n        } else if( cart.quantity >= 3 && valTYpe === 'add' ){\r\n            alert('Upto 3 quantity only purchase at a time ')\r\n        }\r\n\r\n        const refresh =() =>{\r\n            return window.location.reload()\r\n        }\r\n\r\n        if(valTYpe === 'less' &&  cart.quantity > 1 ) {\r\n            const formData = {\r\n                id : cart.productID,\r\n                cartQuantity : -1,\r\n                cartid : cart._id,\r\n                productQuantity : 1,\r\n                currentQuantity : cart.quantity,\r\n                auth : localStorage.getItem('token')\r\n            }\r\n            \r\n           \r\n            this.props.dispatch(updateCartQuantity(formData,refresh))   \r\n\r\n        } else if(valTYpe === 'add' &&  cart.quantity >=1 && cart.quantity < 3 ){\r\n            const formData = {\r\n                id : cart.productID,\r\n                cartQuantity : 1,\r\n                cartid : cart._id,\r\n                productQuantity : -1,\r\n                currentQuantity : cart.quantity,\r\n                auth : localStorage.getItem('token')\r\n            }\r\n            this.props.dispatch(updateCartQuantity(formData,refresh))  \r\n        }\r\n\r\n\r\n    }\r\n\r\n    handleRemove = (e) =>{\r\n        const id = e.target.value\r\n        \r\n        const refresh =() =>{\r\n            return window.location.reload()\r\n        }\r\n        this.props.dispatch(deleteProducttoCart(id ,refresh))\r\n\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        \r\n        return(\r\n            <div className ='container-fluid m-3 '>\r\n                 <h4 style ={{ visibility : this.props.cartData.length ? 'visible' : 'hidden'}}  > My Cart</h4> \r\n                {\r\n                   this.props.cartData.length ? \r\n                   <div className=\"row justify-content-between\">                        \r\n                        <div className=\"col-6\"> \r\n                        {\r\n                            this.props.cartData.map( (cart,i) =>{\r\n                                return (\r\n                                    <div className=\"card mb-2\"  key ={i+1}>\r\n                                        <div className=\"row no-gutters\">\r\n                                            <div className=\"col-md-1 mt-3\">\r\n                                                <img src={`${this.state.path}/${cart.image}`} className=\"card-img\" alt=\"No Image\" \r\n                                                /> \r\n                                            </div>\r\n                                            \r\n                                            <div className=\"col-md-10\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className='row'>\r\n                                                        <div className ='col'>  \r\n                                                            <h5 className=\"card-title\">{cart.name}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h5 className=\"card-text text-left mt-3\">\r\n                                                            <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" \r\n                                                                className=\"card-title text-left\"\r\n                                                                displayType = 'text' prefix={'₹'} value={cart.price }/>\r\n                                                        </h5> \r\n                                                    </div>\r\n                                                    <div className ='row mt-3'>\r\n                                                        <div className ='col-4'>\r\n                                                            <input type ='submit' className ='card-text border-white rounded-circle' name = 'less' \r\n                                                                onClick = { (e) => {this.handleCartQuantity (e,cart)} }  value = '-' />\r\n                                                                     \r\n                                                            <input type ='text' disabled value = {cart.quantity} \r\n                                                                className ='text-center w-25'/>\r\n                                                             <input type ='submit' className ='card-text border-white rounded-circle'\r\n                                                              name = 'add'  onClick = { (e) => {this.handleCartQuantity (e,cart)} }  value = '+' />\r\n                                                               \r\n                                                        </div>  \r\n                                                        <div className ='col-7'>\r\n                                                            <button className=\"card-text float-right btn btn-danger mt-3\" \r\n                                                                value ={cart._id} onClick ={this.handleRemove} > Remove</button>   \r\n                                                        </div>    \r\n                                                         \r\n                                                                                                       \r\n                                                    </div>  \r\n                                                    \r\n                                                </div>\r\n                                                 \r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                            \r\n                        } \r\n                    </div>\r\n                  \r\n                   <div className=\"col-3  mr-auto ml-5\" style ={{height:'100%',width:'150%'}}>\r\n                       <div className=\"card\">\r\n                           <div className=\"card-header\">\r\n                               <h5>PRICE DETAILS</h5>\r\n                           </div>\r\n                           <div className=\"card-body\">\r\n                               <div className ='row justify-content-between'>\r\n                                   <h5 className=\"card-title float-left\">{`Price (${this.props.cartData.length} items)`} </h5> \r\n                                   <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={this.state.price}/>\r\n                                    </h5>\r\n                               </div>\r\n                              <div className ='row justify-content-between'>\r\n                                   <h5 className=\"card-title float-left\">TAX  </h5> \r\n                                   <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={ this.state.tax}/>\r\n                                    </h5>\r\n                              </div>\r\n                               \r\n                           </div>\r\n                           <div className=\"card-footer\">                                \r\n                               <h5 className=\"card-title float-left\">TOTAL PRICE </h5> \r\n                               <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={ this.state.price + this.state.tax}/>\r\n                                    </h5>\r\n                           </div>\r\n                           {/* <input type= 'submit' id='submit' name ='submit' className ='btn btn-danger ' \r\n                                       value ='PLACE ORDER'  onClick = {this.handleOrder} /> */}\r\n                            <Link to ='/orders/add' id='submit' name ='submit' className ='btn btn-danger ' > PLACE ORDER </Link>\r\n                       </div>\r\n                       \r\n                   </div>\r\n                   \r\n               </div>\r\n                \r\n                   : \r\n                   <div className = 'container border mx-auto' style ={{height:'200px'}}> \r\n                    <h4> My Cart</h4>                                       \r\n                       <div className=\"row justify-content-md-center mt-5\">\r\n                            <div className=\"col-11 offset-md-9\">\r\n                                <h5> Your cart is empty! </h5>\r\n                            </div>\r\n                         \r\n                        </div>\r\n                        <div className=\"row justify-content-md-center mt-5\">\r\n                            <div className=\"col-11 offset-md-9\">\r\n                               <Link to = '/' className ='btn btn-primary'> Shop More..</Link>\r\n                            </div>\r\n                         </div>   \r\n                   </div>     \r\n                }\r\n               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateTOProps = (state) =>{\r\n    return{\r\n        cartData:state.cartData,\r\n        users : state.users\r\n    }\r\n}\r\nexport default connect(mapStateTOProps)(Cart)"]},"metadata":{},"sourceType":"module"}