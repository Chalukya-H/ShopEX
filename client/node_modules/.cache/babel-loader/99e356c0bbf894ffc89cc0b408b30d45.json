{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\src\\\\components\\\\items\\\\addItems.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addProduct } from '../../actions/productAction';\nimport { getCategories } from '../../actions/categoryAction'; //  import filepath from '../../media'\n\nclass AddProduct extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleImage = e => {\n      const filepath = e.target.files[0];\n      this.setState({\n        [e.target.name]: filepath\n      }); //Image Review\n\n      const events = [e.target.id];\n      const reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        this.setState({\n          [events]: reader.result\n        });\n      }, false);\n      reader.readAsDataURL(filepath);\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('name', this.state.name);\n      formData.append('description', this.state.description);\n      formData.append('price', this.state.price);\n      formData.append('quantity', this.state.quantity);\n      formData.append('categoryID', this.state.category);\n      formData.append('subCategoryID', this.state.subcategory);\n      formData.append('mainImage', this.state.mainImage);\n      formData.append('cartImage', this.state.cartImage);\n      console.log(formData, 'formdata');\n      this.props.dispatch(addProduct(formData));\n    };\n\n    this.state = {\n      name: '',\n      description: '',\n      category: '',\n      subcategory: '',\n      price: '',\n      quantity: '',\n      mainImage: '',\n      cartImage: '',\n      reviewmainImage: '',\n      reviewcartImage: ''\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.categories.length === 0) {\n      this.props.dispatch(getCategories());\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \" Adding Products \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5 border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form\",\n      encType: \"multipart/form-data\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Product Name :\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      required: true,\n      name: \"name\",\n      className: \"form-control\",\n      placeholder: \"Enter the Product name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }, \"Category:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control w-50\",\n      name: \"category\",\n      id: \"category\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, \"--Select Category--\"), this.props.categories.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i + 1,\n        value: item._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 49\n        }\n      }, item.mainType);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"subcategory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, \"Sub Category:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control w-50\",\n      name: \"subcategory\",\n      id: \"subcategory\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    }, \"--Select Sub Category--\"), this.props.categories.map(item => {\n      if (item.subType.length === 0 && item._id === this.state.category) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: \"1\",\n          value: 'NA',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 53\n          }\n        }, \" Others \");\n      } else if (item._id === this.state.category) {\n        return item.subType.map((subtypes, j) => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            key: j + 1,\n            value: subtypes._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 57\n            }\n          }, subtypes.name);\n        });\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, \"Description :\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"description\",\n      required: true,\n      name: \"description\",\n      className: \"form-control h-50\",\n      rows: \"10\",\n      placeholder: \"Enter the description\",\n      value: this.state.description,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, \"Price :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text fa fa-rupee\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"price\",\n      required: true,\n      name: \"price\",\n      className: \"form-control\",\n      placeholder: \"Enter the Product price\",\n      value: this.state.price,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 33\n      }\n    }, \"Quantity Avilable:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"quantity\",\n      required: true,\n      name: \"quantity\",\n      className: \"form-control\",\n      placeholder: \"Enter the Product quantity\",\n      value: this.state.quantity,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"mainImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, \"Main Image :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text fa fa-file-image-o\",\n      id: \"mainImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"custom-file-input\",\n      id: \"reviewmainImage\",\n      name: \"mainImage\",\n      onChange: this.handleImage,\n      \"aria-describedby\": \"mainImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      htmlFor: \"reviewmainImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 41\n      }\n    }, this.state.mainImage === '' ? 'Choose Main image' : this.state.mainImage.name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 33\n      }\n    }, \"Cart Image :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text fa fa-file-image-o\",\n      id: \"inputGroupFileAddon01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"custom-file-input\",\n      id: \"reviewcartImage\",\n      name: \"cartImage\",\n      \"aria-describedby\": \"cartImage\",\n      onChange: this.handleImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      htmlFor: \"reviewcartImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 41\n      }\n    }, this.state.cartImage === '' ? 'Choose Cart image' : this.state.cartImage.name, \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      name: \"submit\",\n      className: \"btn btn-success w-25\",\n      value: \"Add\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 33\n      }\n    })))), this.state.mainImage ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4  ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }, \"Main Image Review\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.reviewmainImage,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    })) : '', this.state.cartImage ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2  ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, \"Cart Image Review\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.reviewcartImage,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }\n    })) : ''));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories\n  };\n};\n\nexport default connect(mapStateToProps)(AddProduct);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/items/addItems.js"],"names":["React","connect","addProduct","getCategories","AddProduct","Component","constructor","handleChange","e","setState","target","name","value","handleImage","filepath","files","events","id","reader","FileReader","addEventListener","result","readAsDataURL","handleSubmit","preventDefault","formData","FormData","append","state","description","price","quantity","category","subcategory","mainImage","cartImage","console","log","props","dispatch","reviewmainImage","reviewcartImage","componentDidMount","categories","length","render","map","item","i","_id","mainType","subType","subtypes","j","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {addProduct}  from '../../actions/productAction'\r\nimport {getCategories} from '../../actions/categoryAction'\r\n//  import filepath from '../../media'\r\n\r\nclass AddProduct extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            name:'',\r\n            description:'',\r\n            category : '',\r\n            subcategory :'',\r\n            price:'',\r\n            quantity:'',\r\n            mainImage:'',\r\n            cartImage:'',\r\n            reviewmainImage:'',\r\n            reviewcartImage:''             \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.categories.length === 0) {\r\n            this.props.dispatch(getCategories())\r\n        } \r\n    }\r\n\r\n    handleChange =(e) =>{\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    handleImage =(e) =>{\r\n        const filepath = e.target.files[0]        \r\n        this.setState({\r\n            [e.target.name]:filepath\r\n        })\r\n         \r\n        //Image Review\r\n         const events = [e.target.id]          \r\n        const reader = new FileReader()\r\n        reader.addEventListener(\"load\",( )=>{                    \r\n            this.setState({ [events]:reader.result})\r\n        },false)\r\n        reader.readAsDataURL(filepath)\r\n    }\r\n\r\n    handleSubmit =(e) =>{\r\n        e.preventDefault()\r\n        const formData = new FormData()\r\n        formData.append ('name',this.state.name)\r\n        formData.append ('description',this.state.description)\r\n        formData.append ('price',this.state.price)\r\n        formData.append ('quantity',this.state.quantity)\r\n        formData.append ('categoryID',this.state.category)\r\n        formData.append ('subCategoryID',this.state.subcategory)\r\n        formData.append ('mainImage',this.state.mainImage)\r\n        formData.append ('cartImage',this.state.cartImage)\r\n        \r\n        console.log(formData,'formdata')\r\n        this.props.dispatch(addProduct(formData))\r\n    }\r\n\r\n    render(){ \r\n        return(\r\n            <div className ='container-fluid ml-3'>\r\n                <h3> Adding Products </h3>\r\n                <div className='row '>\r\n                    <div className ='col-5 border'>\r\n                        <form className = 'form' encType=\"multipart/form-data\" onSubmit ={this.handleSubmit}>                              \r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='name' >Product Name :</label>\r\n                                <input type= 'text'id='name' required={true} name ='name' className ='form-control' \r\n                                    placeholder ='Enter the Product name' value ={this.state.name} onChange ={this.handleChange}  />\r\n                            </div>\r\n                            {/* category list */}\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='category' >Category:</label>                                    \r\n                                <br/>\r\n                                <select className=\"form-control w-50\" name = 'category'  id ='category' onChange ={this.handleChange}>        \r\n                                    <option>--Select Category--</option>                               \r\n                                    {\r\n                                        this.props.categories.map ((item,i)=>{\r\n                                            return(\r\n                                                <option key ={i+1} value ={item._id}  >{item.mainType}</option>\r\n                                            )\r\n                                        })    \r\n                                    }\r\n                                </select>                      \r\n                                \r\n                            </div>\r\n                           {/* Sub category list */}\r\n                           <div className = 'form-group'>\r\n                                <label htmlFor='subcategory' >Sub Category:</label>                                    \r\n                                <br/>\r\n                                <select className=\"form-control w-50\" name ='subcategory' id='subcategory' onChange = {this.handleChange}>  \r\n                                    <option>--Select Sub Category--</option>                                      \r\n                                    {\r\n                                        this.props.categories.map ((item)=> {                                           \r\n                                            \r\n                                            if(item.subType.length===0 && item._id === this.state.category)\r\n                                            {\r\n                                                return (\r\n                                                    <option key ='1' value ={'NA'}   > Others </option>\r\n                                                )\r\n                                            }\r\n                                            else if(  item._id === this.state.category){\r\n                                                return item.subType.map((subtypes,j)=>{                                                        \r\n                                                    return(\r\n                                                        <option key ={j+1} value ={subtypes._id} \r\n                                                            >{subtypes.name}</option>\r\n                                                    )\r\n                                                })\r\n                                            } \r\n                                        })    \r\n                                    }\r\n                                </select>                    \r\n                                 \r\n                            </div>\r\n\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='description' >Description :</label>\r\n                                <textarea  id='description' required={true} name ='description'\r\n                                     className ='form-control h-50' rows='10' placeholder ='Enter the description' value ={this.state.description}\r\n                                     onChange ={this.handleChange}   />\r\n                            </div>\r\n                            \r\n                            <label htmlFor='price' >Price :</label>                                  \r\n                            <div className = 'form-group input-group mb-3'>\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text fa fa-rupee\" id=\"basic-addon1\"></span>\r\n                                </div>\r\n                                \r\n                                <input type= 'text' id='price' required={true} name ='price' className ='form-control' \r\n                                    placeholder ='Enter the Product price' value ={this.state.price} onChange ={this.handleChange}  /> \r\n                            </div>\r\n\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='quantity' >Quantity Avilable:</label>\r\n                                <input type= 'text'id='quantity' required={true} name ='quantity' className ='form-control' \r\n                                    placeholder ='Enter the Product quantity' value ={this.state.quantity} onChange ={this.handleChange}  />\r\n                            </div>\r\n\r\n                            <div  className = 'form-group '>\r\n                                <label htmlFor='mainImage' >Main Image :</label>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <span className=\"input-group-text fa fa-file-image-o\" id=\"mainImage\"></span>\r\n                                    </div>\r\n                                    <div className=\"custom-file\">\r\n                                        <input type=\"file\" className=\"custom-file-input\" id=\"reviewmainImage\" name = 'mainImage'\r\n                                           onChange ={this.handleImage} aria-describedby=\"mainImage\"  />\r\n                                        <label className=\"custom-file-label\" htmlFor=\"reviewmainImage\">\r\n                                            { this.state.mainImage ===''  ? 'Choose Main image' : this.state.mainImage.name }</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div  className = 'form-group '>\r\n                                <label htmlFor='quantity' >Cart Image :</label>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <span className=\"input-group-text fa fa-file-image-o\" id=\"inputGroupFileAddon01\"></span>\r\n                                    </div>\r\n                                    <div className=\"custom-file\">\r\n                                        <input type=\"file\" className=\"custom-file-input\" id=\"reviewcartImage\"  name ='cartImage'\r\n                                            aria-describedby=\"cartImage\" onChange ={this.handleImage}  />\r\n                                        <label className=\"custom-file-label\" htmlFor=\"reviewcartImage\">\r\n                                        { this.state.cartImage ===''  ? 'Choose Cart image' : this.state.cartImage.name } </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                       \r\n                            \r\n                            <div className = 'form-group'> \r\n                                <input type= 'submit' id='submit' name ='submit' className ='btn btn-success w-25' \r\n                                    value ='Add' onClick ={this.handleSubmit}/>\r\n                            </div>\r\n                        </form>  \r\n                    </div>\r\n                        {\r\n                            this.state.mainImage   ? \r\n                                <div className ='col-4  ml-4'>\r\n                                    <h5>Main Image Review</h5>\r\n                                    <img src = {this.state.reviewmainImage} alt=''/> \r\n                                     \r\n                                </div>\r\n                                :'' \r\n                        }\r\n                        {\r\n                            this.state.cartImage ? \r\n                            <div className ='col-2  ml-1'>\r\n                                <h5>Cart Image Review</h5>\r\n                                <img src = {this.state.reviewcartImage} alt=''/> \r\n                            </div>\r\n                            :'' \r\n                        }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps =(state) =>{\r\n    return{\r\n        categories : state.categories\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(AddProduct)"]},"metadata":{},"sourceType":"module"}