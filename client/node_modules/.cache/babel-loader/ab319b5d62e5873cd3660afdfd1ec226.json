{"ast":null,"code":"import axios from'./axios';export var redirect=function redirect(path){return window.location.href=path;};export var addProductinfo=function addProductinfo(product){return{type:'ADD_PRODUCT',payload:product};};export var addProduct=function addProduct(productInfo,redirect){return function(dispatch){axios.post('/products',productInfo,{headers:{'Content-Type':'multipart/form-data'}}).then(function(response){dispatch(addProductinfo(response.data));redirect();}).catch(function(err){console.log(err);});};};export var getProductinfo=function getProductinfo(product){return{type:'UPDATE_PRODUCT',payload:product};};export var getProducts=function getProducts(){return function(dispatch){axios.get('/products',{headers:{'Content-Type':'multipart/form-data','auth':localStorage.getItem('token')}}).then(function(response){dispatch(getProductinfo(response.data));}).catch(function(err){console.log(err);});};};export var getTopProducts=function getTopProducts(){return function(dispatch){axios.post('/products/topnew').then(function(response){dispatch(addProductinfo(response.data));}).catch(function(err){console.log(err);});};};export var getProductsbyCategory=function getProductsbyCategory(id){return function(dispatch){axios.get(\"/products/query/\".concat(id),{headers:{'Content-Type':'multipart/form-data'}}).then(function(response){dispatch(addProductinfo(response.data));}).catch(function(err){console.log(err);});};};export var getProductsbyID=function getProductsbyID(id){return function(dispatch){axios.get(\"/products/\".concat(id),{headers:{'Content-Type':'multipart/form-data'}}).then(function(response){dispatch(addProductinfo(response.data));}).catch(function(err){console.log(err);});};};export var getProductsbyQuery=function getProductsbyQuery(searchText){return function(dispatch){axios.get(\"/products/search/\".concat(searchText),{headers:{'Content-Type':'multipart/form-data'}}).then(function(response){dispatch(addProductinfo(response.data));}).catch(function(err){console.log(err);});};};export var updateProductinfo=function updateProductinfo(product){return{type:'EDIT_PRODUCT',payload:product};};export var updateProduct=function updateProduct(formData,id,redirect){return function(dispatch){axios.put(\"/products/update/\".concat(id),formData).then(function(response){dispatch(updateProductinfo(response.data));redirect();}).catch(function(err){console.log(err);});};};","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/actions/productAction.js"],"names":["axios","redirect","path","window","location","href","addProductinfo","product","type","payload","addProduct","productInfo","dispatch","post","headers","then","response","data","catch","err","console","log","getProductinfo","getProducts","get","localStorage","getItem","getTopProducts","getProductsbyCategory","id","getProductsbyID","getProductsbyQuery","searchText","updateProductinfo","updateProduct","formData","put"],"mappings":"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","sourcesContent":["import axios from './axios'\r\n\r\nexport const redirect = (path) =>{\r\n    return window.location.href = path            \r\n}\r\n\r\nexport const addProductinfo= (product) => {\r\n    return { type: 'ADD_PRODUCT', payload: product}\r\n} \r\n\r\nexport const addProduct = (productInfo,redirect)=>{\r\n \r\n    return(dispatch) =>{\r\n        axios.post('/products',productInfo,{\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{\r\n            dispatch(addProductinfo(response.data))\r\n            redirect()\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getProductinfo= (product) => {\r\n    return { type: 'UPDATE_PRODUCT', payload: product}\r\n} \r\n\r\nexport const getProducts = ()=>{ \r\n    return(dispatch) =>{\r\n        \r\n        axios.get('/products',{\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data',\r\n                'auth' : localStorage.getItem('token') \r\n            }\r\n        })\r\n        .then(response =>{             \r\n            dispatch(getProductinfo(response.data))\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n \r\n\r\nexport const getTopProducts = ()=>{\r\n    \r\n        return(dispatch) =>{\r\n            axios.post('/products/topnew')\r\n            .then(response =>{\r\n                 \r\n                dispatch(addProductinfo(response.data))\r\n                 \r\n            })\r\n            .catch( err =>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\nexport const getProductsbyCategory = (id)=>{    \r\n    return(dispatch) =>{\r\n        axios.get(`/products/query/${id}`, {\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{                \r\n            dispatch(addProductinfo(response.data))\r\n            \r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n    \r\nexport const getProductsbyID = (id)=>{    \r\n    return(dispatch) =>{\r\n        axios.get(`/products/${id}`, {\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{                \r\n            dispatch(addProductinfo(response.data))\r\n                \r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getProductsbyQuery = (searchText)=>{ \r\n    return(dispatch) =>{\r\n         \r\n        axios.get(`/products/search/${ searchText}`,{ \r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{   \r\n            \r\n            dispatch(addProductinfo(response.data))\r\n            \r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const updateProductinfo= (product) => {\r\n    return { type: 'EDIT_PRODUCT', payload: product}\r\n} \r\n\r\nexport const updateProduct = (formData, id , redirect) =>{\r\n    return(dispatch) =>{ \r\n        axios.put(`/products/update/${id}`,formData )\r\n        .then(response =>{  \r\n            dispatch(updateProductinfo(response.data))\r\n            redirect()\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n\r\n         \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}