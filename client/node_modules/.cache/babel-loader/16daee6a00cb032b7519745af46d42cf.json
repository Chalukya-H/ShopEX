{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\src\\\\components\\\\home\\\\topMenu.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom'; // import logo from '../../media/download-11.jpg'\n\nimport logo from '../../media/Logo-1.PNG';\nimport CategoryMenu from './categoryMenu';\nimport { startGetUser } from '../../actions/userAction';\nimport { getProductsbyQuery } from '../../actions/productAction';\nimport { connect } from 'react-redux';\n\nclass TopMenu extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.props.dispatch(startGetUser());\n      const refersh = setInterval(() => {\n        if (this.props.users.length) {\n          clearInterval(refersh);\n          this.setState({\n            role: this.props.users[0].role\n          });\n          console.log(this.props.users[0].role);\n        }\n      }, 1000);\n    };\n\n    this.handleLogout = () => {\n      localStorage.removeItem('token');\n      window.location.href = '/';\n    };\n\n    this.handleSearch = e => {\n      this.setState({\n        searchText: e.target.value\n      });\n    };\n\n    this.handleSubmitSearch = e => {\n      window.location.href = `/search/q=${this.state.searchText}`;\n    };\n\n    this.state = {\n      role: '',\n      searchText: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-dark bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      alt: \"\",\n      style: {\n        height: '80px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 59\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#navbarSupportedContent\",\n      \"aria-controls\": \"navbarSupportedContent\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse navbar-collapse \",\n      id: \"navbarSupportedContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mt-2 ml-5w-50 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control \",\n      type: \"text\",\n      placeholder: \"Search by product name\",\n      \"aria-label\": \"Search\",\n      value: this.state.searchText,\n      onChange: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-md btn-outline-warning \",\n      onClick: this.handleSubmitSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, \" Search \"))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav  ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, localStorage.getItem('token') ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 37\n      }\n    }, this.state.role === 'Admin' ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown ml-3 mr-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success  dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 53\n      }\n    }, \"Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/account\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 57\n      }\n    }, \" Profile \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/products/add\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 57\n      }\n    }, \" Add Product \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/orders\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 57\n      }\n    }, \" Orders Summary \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/categories/list\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 57\n      }\n    }, \" Categories List \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/categories/update\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 57\n      }\n    }, \"Add/Update Category \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/products/list\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 57\n      }\n    }, \" Products Summary \"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown ml-3 mr-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary  dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 49\n      }\n    }, \"Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/account\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 53\n      }\n    }, \" Profile \"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/orders/summary\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 53\n      }\n    }, \" My Orders \"))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/cart\",\n      className: \"nav-link navbar-brand fa fa-shopping-cart\",\n      style: {\n        display: this.state.role === 'Admin' ? 'none' : ''\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 45\n      }\n    }, \"  \")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      onClick: this.handleLogout,\n      className: \"nav-link navbar-brand fa fa-sign-out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 45\n      }\n    }, \"      \"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      className: \"nav-link navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    }, \" Signin \")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      className: \"nav-link navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 41\n      }\n    }, \" SignUp \"))))))), /*#__PURE__*/React.createElement(CategoryMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    users: state.users\n  };\n};\n\nexport default connect(mapStateToProps)(TopMenu);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/home/topMenu.js"],"names":["React","Link","logo","CategoryMenu","startGetUser","getProductsbyQuery","connect","TopMenu","Component","constructor","componentDidMount","props","dispatch","refersh","setInterval","users","length","clearInterval","setState","role","console","log","handleLogout","localStorage","removeItem","window","location","href","handleSearch","e","searchText","target","value","handleSubmitSearch","state","render","height","getItem","display","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n// import logo from '../../media/download-11.jpg'\r\nimport logo from '../../media/Logo-1.PNG'\r\nimport CategoryMenu from './categoryMenu'\r\nimport {startGetUser} from '../../actions/userAction'\r\nimport {getProductsbyQuery} from '../../actions/productAction'\r\n \r\nimport {connect} from 'react-redux'\r\n\r\nclass TopMenu extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state ={\r\n            role : '',\r\n            searchText:''\r\n        }\r\n    }\r\n\r\n    componentDidMount =()=>{\r\n        this.props.dispatch(startGetUser()) \r\n        const refersh =  setInterval( () =>{  \r\n            if(this.props.users.length ) {             \r\n                clearInterval(refersh)\r\n                this.setState({role :this.props.users[0].role})\r\n                console.log(this.props.users[0].role)\r\n            }\r\n        },1000)\r\n    }\r\n\r\n     handleLogout = () =>{\r\n        localStorage.removeItem('token')\r\n         window.location.href ='/'\r\n      }\r\n\r\n      handleSearch =(e) =>{\r\n          this.setState ({searchText : e.target.value})\r\n      }\r\n\r\n     handleSubmitSearch = (e) =>{\r\n        window.location.href = `/search/q=${this.state.searchText}`\r\n     }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n              <div>\r\n                <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                    <a className=\"navbar-brand\" href=\"/\"> <img src = {logo} alt ='' style ={{height:'80px'}}/></a>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n    \r\n                    <div className=\"collapse navbar-collapse \" id=\"navbarSupportedContent\">     \r\n                        <div className=\"input-group mt-2 ml-5w-50 \">\r\n                            <input className=\"form-control \" type=\"text\" placeholder=\"Search by product name\" aria-label=\"Search\" value ={this.state.searchText}\r\n                                onChange = {this.handleSearch}/>\r\n                            <div className=\"input-group-append\">\r\n                                <button className=\"btn btn-md btn-outline-warning \" onClick = {this.handleSubmitSearch} > Search </button>\r\n                         \r\n                            </div>\r\n                        </div>\r\n    \r\n                        <ul className=\"navbar-nav  ml-3\" >\r\n                            {\r\n                                localStorage.getItem('token') ? \r\n                                    <div className ='navbar-nav '>                                      \r\n                                        {                                                \r\n                                            this.state.role ==='Admin' ?                                                \r\n                                                <div className=\"dropdown ml-3 mr-2 \">\r\n                                                    <button type=\"button\" className=\"btn btn-success  dropdown-toggle\"\r\n                                                     data-toggle=\"dropdown\"   aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                                        Account\r\n                                                    </button>\r\n                                                    <div className=\"dropdown-menu\">\r\n                                                        <Link to ='/account' className ='dropdown-item' > Profile </Link>\r\n                                                        <Link to ='/products/add' className ='dropdown-item' > Add Product </Link>\r\n                                                        <Link to ='/orders' className ='dropdown-item' > Orders Summary </Link>\r\n                                                        <Link to ='/categories/list' className ='dropdown-item' > Categories List </Link>\r\n                                                        <Link to ='/categories/update' className ='dropdown-item' >Add/Update Category </Link>\r\n                                                        <Link to ='/products/list' className ='dropdown-item' > Products Summary </Link>                                                            \r\n                                                    </div>  \r\n                                                                        \r\n                                                </div>\r\n                                            :   \r\n                                            <div className=\"dropdown ml-3 mr-2 \">\r\n                                                <button type=\"button\" className=\"btn btn-primary  dropdown-toggle\"\r\n                                                data-toggle=\"dropdown\"   aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                                    Account\r\n                                                </button>\r\n                                                <div className=\"dropdown-menu\">\r\n                                                    <Link to ='/account' className ='dropdown-item' > Profile </Link>\r\n                                                    <Link to ='/orders/summary' className ='dropdown-item' > My Orders </Link>                                                                                                        \r\n                                                </div>  \r\n                                            </div>                                               \r\n                                        }\r\n                                        <li className=\"nav-item active\">\r\n                                            <Link to ='/cart' className ='nav-link navbar-brand fa fa-shopping-cart'\r\n                                             style ={{display: this.state.role ==='Admin' ? 'none' : ''}} >  </Link>\r\n                                        </li>\r\n\r\n                                        <li className=\"nav-item active\">\r\n                                            <Link to ='#' onClick ={this.handleLogout} \r\n                                                className ='nav-link navbar-brand fa fa-sign-out' >      </Link>\r\n                                        </li>\r\n                                       \r\n                                </div>\r\n                                :\r\n                                <div className ='navbar-nav'>\r\n                                    <li className=\"nav-item active\">\r\n                                        <Link to ='/login' className ='nav-link navbar-brand'  > Signin </Link>\r\n                                    </li>\r\n                                    <li className=\"nav-item active\">\r\n                                        <Link to ='/register' className ='nav-link navbar-brand' > SignUp </Link>\r\n                                    </li>\r\n                                   \r\n                                </div>                        \r\n                            }                         \r\n                        </ul> \r\n                    </div>\r\n                 </nav>\r\n               </div>\r\n              \r\n                <CategoryMenu/>\r\n               \r\n              \r\n            </div>\r\n          \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return  {\r\n        users : state.users\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopMenu)"]},"metadata":{},"sourceType":"module"}