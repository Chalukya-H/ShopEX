{"ast":null,"code":"import axios from 'axios';\nexport const redirect = path => {\n  return window.location.href = path;\n};\nexport const addProductinfo = product => {\n  return {\n    type: 'ADD_PRODUCT',\n    payload: product\n  };\n};\nexport const addProduct = (productInfo, redirect) => {\n  return dispatch => {\n    axios.post('/products', productInfo, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      dispatch(addProductinfo(response.data));\n      redirect();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const getProductinfo = product => {\n  return {\n    type: 'UPDATE_PRODUCT',\n    payload: product\n  };\n};\nexport const getProducts = () => {\n  return dispatch => {\n    axios.get('/products', {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'auth': localStorage.getItem('token')\n      }\n    }).then(response => {\n      dispatch(getProductinfo(response.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const getTopProducts = () => {\n  return dispatch => {\n    axios.post('/products/topnew').then(response => {\n      dispatch(addProductinfo(response.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const getProductsbyCategory = id => {\n  return dispatch => {\n    axios.get(`/products/query/${id}`, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      dispatch(addProductinfo(response.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const getProductsbyID = id => {\n  return dispatch => {\n    axios.get(`/products/${id}`, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      dispatch(addProductinfo(response.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const getProductsbyQuery = searchText => {\n  return dispatch => {\n    axios.get(`/products/search/${searchText}`, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      dispatch(addProductinfo(response.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const updateProductinfo = product => {\n  return {\n    type: 'EDIT_PRODUCT',\n    payload: product\n  };\n};\nexport const updateProduct = (formdata, id) => {\n  return dispatch => {\n    axios.put(`/products/update/${id}`, formdata, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      dispatch(updateProductinfo(response.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/actions/productAction.js"],"names":["axios","redirect","path","window","location","href","addProductinfo","product","type","payload","addProduct","productInfo","dispatch","post","headers","then","response","data","catch","err","console","log","getProductinfo","getProducts","get","localStorage","getItem","getTopProducts","getProductsbyCategory","id","getProductsbyID","getProductsbyQuery","searchText","updateProductinfo","updateProduct","formdata","put"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nexport const redirect = (path) =>{\r\n    return window.location.href = path            \r\n}\r\n\r\nexport const addProductinfo= (product) => {\r\n    return { type: 'ADD_PRODUCT', payload: product}\r\n} \r\n\r\nexport const addProduct = (productInfo,redirect)=>{\r\n \r\n    return(dispatch) =>{\r\n        axios.post('/products',productInfo,{\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{\r\n            dispatch(addProductinfo(response.data))\r\n            redirect()\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getProductinfo= (product) => {\r\n    return { type: 'UPDATE_PRODUCT', payload: product}\r\n} \r\n\r\nexport const getProducts = ()=>{ \r\n    return(dispatch) =>{\r\n        \r\n        axios.get('/products',{\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data',\r\n                'auth' : localStorage.getItem('token') \r\n            }\r\n        })\r\n        .then(response =>{             \r\n            dispatch(getProductinfo(response.data))\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n \r\n\r\nexport const getTopProducts = ()=>{\r\n    \r\n        return(dispatch) =>{\r\n            axios.post('/products/topnew')\r\n            .then(response =>{\r\n                 \r\n                dispatch(addProductinfo(response.data))\r\n                 \r\n            })\r\n            .catch( err =>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\nexport const getProductsbyCategory = (id)=>{    \r\n    return(dispatch) =>{\r\n        axios.get(`/products/query/${id}`, {\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{                \r\n            dispatch(addProductinfo(response.data))\r\n            \r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n    \r\nexport const getProductsbyID = (id)=>{    \r\n    return(dispatch) =>{\r\n        axios.get(`/products/${id}`, {\r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{                \r\n            dispatch(addProductinfo(response.data))\r\n                \r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getProductsbyQuery = (searchText)=>{ \r\n    return(dispatch) =>{\r\n         \r\n        axios.get(`/products/search/${ searchText}`,{ \r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{   \r\n            \r\n            dispatch(addProductinfo(response.data))\r\n            \r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const updateProductinfo= (product) => {\r\n    return { type: 'EDIT_PRODUCT', payload: product}\r\n} \r\n\r\nexport const updateProduct = (formdata,id) =>{\r\n    return(dispatch) =>{\r\n        axios.put(`/products/update/${id}`,formdata,{ \r\n            headers : { \r\n                'Content-Type' :'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response =>{  \r\n            dispatch(updateProductinfo(response.data))\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n\r\n         \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}