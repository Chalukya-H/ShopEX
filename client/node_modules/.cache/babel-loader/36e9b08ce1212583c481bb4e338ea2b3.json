{"ast":null,"code":"import _classCallCheck from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{getProducts}from'../../actions/productAction';import{getCategories}from'../../actions/categoryAction';import{Link}from'react-router-dom';var ProductsSummary=/*#__PURE__*/function(_React$Component){_inherits(ProductsSummary,_React$Component);var _super=_createSuper(ProductsSummary);function ProductsSummary(){var _this;_classCallCheck(this,ProductsSummary);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.componentDidMount=function(){_this.props.dispatch(getProducts());_this.props.dispatch(getCategories());var refersh=setInterval(function(){if(_this.props.products.length&&_this.props.categories.length){clearInterval(refersh);}},1000);};return _this;}_createClass(ProductsSummary,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"h3\",null,\" Products Summary \")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(Link,{to:\"/products/add\",className:\"btn btn-info\"},\" Add products\"))),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-dark table-bordered \"},/*#__PURE__*/React.createElement(\"caption\",{className:\"align-text-top\"},\"List of \",this.props.products.length,\" products\"),/*#__PURE__*/React.createElement(\"thead\",{className:\"bg-success\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"#\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Product ID\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Product Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Price\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Category\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Sub Category\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Stock Avilable\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Update\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.props.products.map(function(product,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i+1},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},i+1),/*#__PURE__*/React.createElement(\"td\",null,product._id),/*#__PURE__*/React.createElement(\"td\",{className:\"align-self-center\"},product.name),/*#__PURE__*/React.createElement(\"td\",null,product.price),/*#__PURE__*/React.createElement(\"td\",null,_this2.props.categories.map(function(category){return category._id===product.categoryID?category.mainType:'';})),/*#__PURE__*/React.createElement(\"td\",null,_this2.props.categories.map(function(category){return category.subType.map(function(subtype){return subtype._id===product.subCategoryID?subtype.name:'';});})),/*#__PURE__*/React.createElement(\"td\",null,product.quantity),/*#__PURE__*/React.createElement(\"td\",null,\"  \",/*#__PURE__*/React.createElement(Link,{to:\"/products/update/\".concat(product._id),className:\"btn btn-info btn-sm\"},\" UPDATE\"),\" \"));}))));}}]);return ProductsSummary;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{products:state.products,categories:state.categories};};export default connect(mapStateToProps)(ProductsSummary);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/items/productList.js"],"names":["React","connect","getProducts","getCategories","Link","ProductsSummary","componentDidMount","props","dispatch","refersh","setInterval","products","length","categories","clearInterval","map","product","i","_id","name","price","category","categoryID","mainType","subType","subtype","subCategoryID","quantity","Component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getProducts} from '../../actions/productAction'\r\nimport {getCategories} from '../../actions/categoryAction'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass ProductsSummary extends React.Component {\r\n\r\n    componentDidMount = ()=>{\r\n        this.props.dispatch(getProducts()) \r\n        this.props.dispatch(getCategories())\r\n\r\n        const refersh =  setInterval( () =>{  \r\n            if(this.props.products.length && this.props.categories.length ) {             \r\n                clearInterval(refersh)             }\r\n        },1000)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className ='container-fluid'>\r\n                <div className=\"row justify-content-between\">\r\n                    <div className=\"col-4\">\r\n                        <h3> Products Summary </h3>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <Link to ='/products/add' className ='btn btn-info'> Add products</Link>\r\n                    </div>\r\n                </div>\r\n                 \r\n               \r\n                <table className=\"table table-striped table-dark table-bordered \">\r\n                    <caption className ='align-text-top'>List of {this.props.products.length} products</caption>\r\n                    <thead className ='bg-success'>\r\n                        <tr>\r\n                            <th scope=\"col\">#</th>\r\n                            <th scope=\"col\">Product ID</th>\r\n                            <th scope=\"col\">Product Name</th>\r\n                            <th scope=\"col\">Price</th>\r\n                            <th scope=\"col\">Category</th>  \r\n                            <th scope=\"col\">Sub Category</th>    \r\n                            <th scope=\"col\">Stock Avilable</th>   \r\n                            <th scope=\"col\">Update</th>                           \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n\r\n                        {\r\n                            this.props.products.map((product,i) =>{\r\n                                return(\r\n                                    <tr key = {i+1}>\r\n                                        <th scope=\"row\">{i+1}</th>\r\n                                        <td >{product._id}</td>\r\n                                        <td className ='align-self-center'>{product.name}</td>\r\n                                        <td>{product.price}</td>\r\n                                        <td>\r\n                                            { this.props.categories.map(category =>{                                                 \r\n                                                    return ( category._id === product.categoryID ? category.mainType : '')\r\n                                                })\r\n                                            }</td>\r\n                                            <td>\r\n                                            { this.props.categories.map(category =>{\r\n                                                    return category.subType.map(subtype =>{\r\n                                                        return ( subtype._id === product.subCategoryID ? subtype.name : '')\r\n                                                    })\r\n                                                })\r\n                                            }</td>\r\n                                        <td>{product.quantity}</td> \r\n                                        <td>  <Link to = { `/products/update/${product._id}`} className ='btn btn-info btn-sm'> UPDATE \r\n                                            </Link> </td>                                           \r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                      \r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps =(state) =>{\r\n    return {\r\n        products :state.products,\r\n        categories:state.categories\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProductsSummary)"]},"metadata":{},"sourceType":"module"}