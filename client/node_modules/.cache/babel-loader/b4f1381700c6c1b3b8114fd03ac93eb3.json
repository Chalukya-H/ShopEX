{"ast":null,"code":"import _defineProperty from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{updateCategories,getCategories}from'../../actions/categoryAction';var CategoryModify=/*#__PURE__*/function(_React$Component){_inherits(CategoryModify,_React$Component);var _super=_createSuper(CategoryModify);function CategoryModify(){var _this;_classCallCheck(this,CategoryModify);_this=_super.call(this);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var formData={_id:_this.state.mainId,subType:{name:_this.state.subCategory}};_this.props.dispatch(updateCategories(formData,'/categories/list'));};_this.state={mainId:'',subCategory:''};return _this;}_createClass(CategoryModify,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.dispatch(getCategories());var refersh=setInterval(function(){if(_this2.props.categories.length){clearInterval(refersh);}},1000);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-4\"},\" Update existing category\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"mainId\",className:\"mt-3\"},\"Category:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 mb-1\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",name:\"mainId\",id:\"mainId\",onChange:this.handleChange},/*#__PURE__*/React.createElement(\"option\",null,\"--Select Category--\"),this.props.categories.map(function(item,i){return/*#__PURE__*/React.createElement(\"option\",{key:i+1,value:item._id},item.mainType);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},\"  Sub Category :\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"like.. Mobiles ,Laptop\",name:\"subCategory\",value:this.state.subCategory,onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary w-50\",onClick:this.handleSubmit},\"Add\"))));}}]);return CategoryModify;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{categories:state.categories};};export default connect(mapStateToProps)(CategoryModify);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/categories/catogoryModify.js"],"names":["React","connect","updateCategories","getCategories","CategoryModify","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","formData","_id","state","mainId","subType","subCategory","props","dispatch","refersh","setInterval","categories","length","clearInterval","map","item","i","mainType","Component","mapStateToProps"],"mappings":"u2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,gBAAR,CAAyBC,aAAzB,KAA6C,8BAA7C,C,GAEMC,CAAAA,c,4HACF,yBAAc,gDACV,wBADU,MAiBdC,YAjBc,CAiBA,SAACC,CAAD,CAAM,CAChB,MAAKC,QAAL,oBACKD,CAAC,CAACE,MAAF,CAASC,IADd,CACsBH,CAAC,CAACE,MAAF,CAASE,KAD/B,GAGH,CArBa,OAuBdC,YAvBc,CAuBA,SAACL,CAAD,CAAM,CAChBA,CAAC,CAACM,cAAF,GACA,GAAMC,CAAAA,QAAQ,CAAG,CACbC,GAAG,CAAG,MAAKC,KAAL,CAAWC,MADJ,CAEbC,OAAO,CAAG,CAAER,IAAI,CAAG,MAAKM,KAAL,CAAWG,WAApB,CAFG,CAAjB,CAKA,MAAKC,KAAL,CAAWC,QAAX,CAAoBlB,gBAAgB,CAACW,QAAD,CAAU,kBAAV,CAApC,EACH,CA/Ba,CAEV,MAAKE,KAAL,CAAY,CACRC,MAAM,CAAE,EADA,CAERE,WAAW,CAAC,EAFJ,CAAZ,CAFU,aAMb,C,wFAEqB,iBAClB,KAAKC,KAAL,CAAWC,QAAX,CAAoBjB,aAAa,EAAjC,EACA,GAAMkB,CAAAA,OAAO,CAAIC,WAAW,CAAE,UAAK,CAC/B,GAAG,MAAI,CAACH,KAAL,CAAWI,UAAX,CAAsBC,MAAzB,CAAkC,CAC9BC,aAAa,CAACJ,OAAD,CAAb,CACH,CACJ,CAJ2B,CAI1B,IAJ0B,CAA5B,CAKH,C,uCAiBO,CACJ,mBACI,2BAAK,SAAS,CAAE,gBAAhB,2CACI,8BADJ,cAEK,6BAAO,OAAO,CAAC,QAAf,CAAwB,SAAS,CAAE,MAAnC,cAFL,cAGI,2BAAK,SAAS,CAAG,KAAjB,eACI,2BAAK,SAAS,CAAE,eAAhB,eACI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,IAAI,CAAG,QAAxC,CAAkD,EAAE,CAAE,QAAtD,CAA+D,QAAQ,CAAG,KAAKhB,YAA/E,eACI,wDADJ,CAGQ,KAAKc,KAAL,CAAWI,UAAX,CAAsBG,GAAtB,CAA2B,SAACC,IAAD,CAAMC,CAAN,CAAU,CACjC,mBACI,8BAAQ,GAAG,CAAGA,CAAC,CAAC,CAAhB,CAAmB,KAAK,CAAGD,IAAI,CAACb,GAAhC,EAAwCa,IAAI,CAACE,QAA7C,CADJ,CAGH,CAJD,CAHR,CADJ,CADJ,CAHJ,cAkBI,2BAAK,SAAS,CAAE,UAAhB,eACI,2BAAK,SAAS,CAAE,UAAhB,kCACI,6BAAO,IAAI,CAAC,MAAZ,CAAoB,SAAS,CAAC,cAA9B,CAA6C,WAAW,CAAE,wBAA1D,CACA,IAAI,CAAE,aADN,CACqB,KAAK,CAAI,KAAKd,KAAL,CAAWG,WADzC,CACsD,QAAQ,CAAG,KAAKb,YADtE,EADJ,CADJ,CAlBJ,cAyBI,2BAAK,SAAS,CAAE,UAAhB,eACI,2BAAK,SAAS,CAAE,UAAhB,eACA,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,sBAAhC,CAAuD,OAAO,CAAE,KAAKM,YAArE,QADA,CADJ,CAzBJ,CADJ,CAsCH,C,4BAxEwBX,KAAK,CAAC8B,S,EA2EnC,GAAMC,CAAAA,eAAe,CAAE,QAAjBA,CAAAA,eAAiB,CAAChB,KAAD,CAAU,CAC7B,MAAM,CACFQ,UAAU,CAAER,KAAK,CAACQ,UADhB,CAAN,CAGH,CAJD,CAKA,cAAetB,CAAAA,OAAO,CAAC8B,eAAD,CAAP,CAAyB3B,cAAzB,CAAf","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux' \r\nimport {updateCategories,getCategories} from '../../actions/categoryAction'\r\n\r\nclass CategoryModify extends React.Component {\r\n    constructor (){\r\n        super()\r\n        this.state ={\r\n            mainId :'',\r\n            subCategory:''\r\n        }\r\n    }\r\n\r\n    componentDidMount ()  {\r\n        this.props.dispatch(getCategories())\r\n        const refersh =  setInterval( () =>{ \r\n            if(this.props.categories.length ) {             \r\n                clearInterval(refersh)             \r\n            }\r\n        },1000)\r\n    }\r\n\r\n    handleChange =(e)=> {\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit =(e) =>{\r\n        e.preventDefault()\r\n        const formData = {\r\n            _id : this.state.mainId ,\r\n            subType : { name : this.state.subCategory}\r\n        } \r\n \r\n        this.props.dispatch(updateCategories(formData,'/categories/list'))\r\n    }\r\n    render(){\r\n        return(\r\n            <div className ='container mt-4'> Update existing category \r\n                <br/>\r\n                 <label htmlFor='mainId' className ='mt-3' >Category:</label> \r\n                <div className = 'row'> \r\n                    <div className ='col-md-6 mb-1'> \r\n                        <select className=\"form-control\" name = 'mainId'  id ='mainId' onChange ={this.handleChange}>        \r\n                            <option>--Select Category--</option>                               \r\n                            {\r\n                                this.props.categories.map ((item,i)=>{\r\n                                    return(\r\n                                        <option key ={i+1} value ={item._id}  >{item.mainType}</option>\r\n                                    )\r\n                                })    \r\n                            }\r\n                        </select>  \r\n                    </div>                    \r\n                    \r\n                </div>\r\n                <div className ='row mt-2'>                                     \r\n                    <div className ='col-md-6'>  Sub Category :                   \r\n                        <input type=\"text\"  className=\"form-control\" placeholder ='like.. Mobiles ,Laptop'\r\n                        name ='subCategory'  value = {this.state.subCategory} onChange ={this.handleChange}  />  \r\n                    </div>                          \r\n                </div> \r\n                    \r\n                <div className ='row mt-4'>\r\n                    <div className ='col-md-4'>                    \r\n                    <button type=\"button\" className=\"btn btn-primary w-50\" onClick={this.handleSubmit}>\r\n                        Add\r\n                        </button> \r\n                    </div>\r\n                </div>\r\n\r\n\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n \r\nconst mapStateToProps= (state) =>{\r\n    return{\r\n        categories :state.categories\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(CategoryModify)"]},"metadata":{},"sourceType":"module"}