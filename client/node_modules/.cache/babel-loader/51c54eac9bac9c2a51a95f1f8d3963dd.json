{"ast":null,"code":"import _defineProperty from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{getProducttoCart}from'../../actions/cartAction';import{addProductstoOrder}from'../../actions/orderAction';import{connect}from'react-redux';import NumberFormat from'react-number-format';var OrderCreate=/*#__PURE__*/function(_React$Component){_inherits(OrderCreate,_React$Component);var _super=_createSuper(OrderCreate);function OrderCreate(){var _this;_classCallCheck(this,OrderCreate);_this=_super.call(this);_this.componentDidMount=function(){_this.props.dispatch(getProducttoCart());var refersh=setInterval(function(){if(_this.props.cartData.length){clearInterval(refersh);var price=0;_this.props.cartData.map(function(cart){price+=cart.price*cart.quantity;return price;});if(price>0){var tax=price*1/100;_this.setState({price:price,tax:tax});}}},1000);};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();_this.setState({readyToOrder:true});};_this.handleInfoEdit=function(e){_this.setState({readyToOrder:false});};_this.handleOrders=function(e){e.preventDefault();var refresh=function refresh(){return window.location.reload();};var orders=_this.props.cartData.map(function(cart){return{name:cart.name,price:cart.price,quantity:cart.quantity,image:cart.image,customerID:_this.props.users[0]._id,address:_this.state.address,contactNum:_this.state.contactNum};});_this.props.dispatch(addProductstoOrder(orders,refresh));};_this.state={path:window.location.origin,address:'#35,2nd cross,Chunchugatta main road ,Harinagar Cross,bangalore -560062',contactNum:'8095320791',readyToOrder:true,price:0,tax:0};return _this;}_createClass(OrderCreate,[{key:\"render\",value:function render(){var _this2=this,_React$createElement;console.log(this.props.users);return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},this.props.cartData.length&&this.state.readyToOrder?/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"col-12\"},\" Confirm Order \"),\"  \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\" ml-3  text-monospace text-decoration-none\",onClick:this.handleInfoEdit,style:{fontSize:'lg'}},\"Edit\"),/*#__PURE__*/React.createElement(\"p\",{className:\"col-12 mr-5 pr-5\",style:{wordWrap:'break-word'}},\"  Delivery Address : \",this.state.address,\" \",/*#__PURE__*/React.createElement(\"br\",null),\" Mobile : \",this.state.contactNum,\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},this.props.cartData.map(function(cart,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-2\",key:i+1},/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1 mt-3\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(_this2.state.path,\"/\").concat(cart.image),className:\"card-img\",alt:\"No Image\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},cart.name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{className:\"card-text text-left mt-3\"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title text-left\",displayType:\"text\",prefix:'₹',value:cart.price}),\"\\xA0\\xA0 Quantity - \",cart.quantity))))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3  mr-auto ml-5\",style:{height:'100%',width:'150%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h5\",null,\"PRICE DETAILS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-left\"},\"Price (\".concat(this.props.cartData.length,\" items)\"),\" \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-right\"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title float-right\",displayType:\"text\",prefix:'₹',value:this.state.price}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-left\"},\"TAX  \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-right \"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title float-right\",displayType:\"text\",prefix:'₹',value:this.state.tax})))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-left\"},\"TOTAL PRICE \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title float-right  \"},/*#__PURE__*/React.createElement(NumberFormat,{thousandSeparator:true,thousandsGroupStyle:\"lakh\",className:\"card-title float-right\",displayType:\"text\",prefix:'₹',value:this.state.price+this.state.tax}))),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",id:\"submit\",name:\"submit\",className:\"btn btn-danger \",value:\"CONFIRM ORDER\",onClick:this.handleOrders})))):/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid ml-3\"},/*#__PURE__*/React.createElement(\"h3\",null,\" Delivery Details: \"),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 \"},/*#__PURE__*/React.createElement(\"form\",{encType:\"multipart/form-data\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"address\"},\"Delivery Address:\"),/*#__PURE__*/React.createElement(\"textarea\",(_React$createElement={id:\"address\",required:true,name:\"address\",className:\"form-control h-40\",rows:\"5\"},_defineProperty(_React$createElement,\"required\",\"true\"),_defineProperty(_React$createElement,\"placeholder\",\"Enter the address\"),_defineProperty(_React$createElement,\"value\",this.state.address),_defineProperty(_React$createElement,\"onChange\",this.handleChange),_React$createElement))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"contactNum\"},\"Mobile Number:  [Please provide valid number to get order details as SMS]\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text\",id:\"basic-addon1\"},\"+91\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Mobile Number\",id:\"contactNum\",required:\"true\",name:\"contactNum\",value:this.state.contactNum,onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primary\",value:\"ADD DETAILS\"}))))));}}]);return OrderCreate;}(React.Component);var mapStateTOProps=function mapStateTOProps(state){return{cartData:state.cartData,users:state.users};};export default connect(mapStateTOProps)(OrderCreate);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/orders/orderCreate.js"],"names":["React","getProducttoCart","addProductstoOrder","connect","NumberFormat","OrderCreate","componentDidMount","props","dispatch","refersh","setInterval","cartData","length","clearInterval","price","map","cart","quantity","tax","setState","handleChange","e","target","name","value","handleSubmit","preventDefault","readyToOrder","handleInfoEdit","handleOrders","refresh","window","location","reload","orders","image","customerID","users","_id","address","state","contactNum","path","origin","console","log","fontSize","wordWrap","i","height","width","Component","mapStateTOProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {getProducttoCart} from '../../actions/cartAction'\r\nimport {addProductstoOrder} from '../../actions/orderAction'\r\nimport { connect } from 'react-redux'\r\nimport NumberFormat from 'react-number-format' \r\n\r\nclass OrderCreate extends React.Component {\r\n    constructor(){\r\n        super()\r\n        this.state={             \r\n            path : window.location.origin ,\r\n            address: '#35,2nd cross,Chunchugatta main road ,Harinagar Cross,bangalore -560062',\r\n            contactNum:'8095320791',\r\n            readyToOrder : true,\r\n            price:0,\r\n            tax:0\r\n        }\r\n    }\r\n    componentDidMount =()=>{ \r\n        this.props.dispatch(getProducttoCart()) \r\n\r\n        const refersh =  setInterval( () =>{  \r\n            if(this.props.cartData.length ) {            \r\n                clearInterval(refersh) \r\n                let price = 0\r\n                this.props.cartData.map( cart =>{\r\n                    price += cart.price * cart.quantity\r\n                    return price  \r\n                })   \r\n                \r\n                if (price > 0 ){\r\n                    const tax = price * 1 /100\r\n                    this.setState({price,tax})\r\n                }  \r\n            }\r\n        } , 1000)\r\n    }\r\n\r\n    handleChange = (e) =>{\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) =>{\r\n        e.preventDefault()\r\n        this.setState({\r\n            readyToOrder : true\r\n        })\r\n    }\r\n\r\n    handleInfoEdit = (e) =>{\r\n        this.setState({\r\n            readyToOrder : false\r\n        })\r\n    }\r\n\r\n    handleOrders = (e) =>{\r\n        e.preventDefault() \r\n\r\n        const refresh =() =>{\r\n            return window.location.reload()\r\n        }\r\n        const orders = this.props.cartData.map(cart =>{\r\n            return {\r\n                name:  cart.name,\r\n                price : cart.price,\r\n                quantity:cart.quantity,\r\n                image: cart.image,\r\n                customerID: this.props.users[0]._id,\r\n                address: this.state.address,\r\n                contactNum: this.state.contactNum\r\n            }\r\n        })\r\n        \r\n        this.props.dispatch(addProductstoOrder(orders,refresh))\r\n    }\r\n    render(){\r\n        console.log(this.props.users)\r\n        return (\r\n            <div className ='container-fluid'>\r\n               \r\n                {\r\n                   this.props.cartData.length && this.state.readyToOrder ? \r\n                   <div className=\"row justify-content-between\">\r\n                    \r\n                            <h3 className=\"col-12\"> Confirm Order </h3>  <br/>\r\n                            <a href= '#' className=\" ml-3  text-monospace text-decoration-none\" onClick ={this.handleInfoEdit} \r\n                                    style ={{fontSize:'lg'}}>Edit</a>  \r\n                            <p className=\"col-12 mr-5 pr-5\"  style ={{wordWrap:'break-word'}} >  Delivery Address : {this.state.address} <br/> Mobile : {this.state.contactNum} </p>    \r\n                         \r\n                                 \r\n                        <div className=\"col-6\"> \r\n                        {\r\n                            this.props.cartData.map( (cart,i) =>{\r\n                                return (\r\n                                    <div className=\"card mb-2\"  key ={i+1}>\r\n                                        <div className=\"row no-gutters\">\r\n                                            <div className=\"col-md-1 mt-3\">\r\n                                                <img src={`${this.state.path}/${cart.image}`} className=\"card-img\" alt=\"No Image\" \r\n                                                /> \r\n                                            </div>\r\n                                            \r\n                                            <div className=\"col-md-10\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className='row'>\r\n                                                        <div className ='col'>  \r\n                                                            <h5 className=\"card-title\">{cart.name}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h5 className=\"card-text text-left mt-3\">\r\n                                                            <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" \r\n                                                                className=\"card-title text-left\"\r\n                                                                displayType = 'text' prefix={'₹'} value={cart.price }/>\r\n                                                                   &nbsp;&nbsp; Quantity - {cart.quantity}   \r\n                                                        </h5> \r\n                                                        \r\n                                                    </div>  \r\n                                                </div> \r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                            \r\n                        } \r\n                    </div>\r\n                  \r\n                   <div className=\"col-3  mr-auto ml-5\" style ={{height:'100%',width:'150%'}}>\r\n                       <div className=\"card\">\r\n                           <div className=\"card-header\">\r\n                               <h5>PRICE DETAILS</h5>\r\n                           </div>\r\n                           <div className=\"card-body\">\r\n                               <div className ='row justify-content-between'>\r\n                                   <h5 className=\"card-title float-left\">{`Price (${this.props.cartData.length} items)`} </h5> \r\n                                   <h5 className=\"card-title float-right\">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={this.state.price}/>\r\n                                    </h5>\r\n                               </div>\r\n                              <div className ='row justify-content-between'>\r\n                                   <h5 className=\"card-title float-left\">TAX  </h5> \r\n                                   <h5 className=\"card-title float-right \">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={ this.state.tax}/>\r\n                                    </h5>\r\n                              </div>\r\n                               \r\n                           </div>\r\n                           <div className=\"card-footer\">                                \r\n                               <h5 className=\"card-title float-left\">TOTAL PRICE </h5> \r\n                               <h5 className=\"card-title float-right  \">\r\n                                    <NumberFormat thousandSeparator={true} thousandsGroupStyle=\"lakh\" className=\"card-title float-right\"\r\n                                        displayType = 'text' prefix={'₹'} value={ this.state.price + this.state.tax}/>\r\n                                    </h5>\r\n                           </div>\r\n                           <input type= 'submit' id='submit' name ='submit' className ='btn btn-danger ' \r\n                                       value ='CONFIRM ORDER'  onClick = {this.handleOrders} /> \r\n                          \r\n                       </div>\r\n                       \r\n                   </div>\r\n                   \r\n               </div>\r\n                \r\n                   : \r\n                   <div className ='container-fluid ml-3'>\r\n                   <h3> Delivery Details: </h3>\r\n                   <div className='row mt-4'>\r\n                       <div className ='col-md-5 '>\r\n                           <form   encType=\"multipart/form-data\" onSubmit ={this.handleSubmit} >                              \r\n                               <div className = 'form-group'>\r\n                                   <label htmlFor='address' >Delivery Address:</label>\r\n                                   <textarea  id='address' required={true} name ='address'\r\n                                     className ='form-control h-40' rows='5' required = 'true'\r\n                                     placeholder ='Enter the address' value ={this.state.address}\r\n                                     onChange ={this.handleChange}   />\r\n                               </div>\r\n                               \r\n                                <div className = 'form-group'> \r\n                                <label htmlFor='contactNum' >Mobile Number:  [Please provide valid number to get order details as SMS]</label>                   \r\n                                    <div className=\"input-group mb-3\">                                        \r\n                                        <div className=\"input-group-prepend\">\r\n                                            <span className=\"input-group-text\" id=\"basic-addon1\">+91</span>\r\n                                        </div>\r\n                                        \r\n                                        <input type=\"text\" className=\"form-control\" placeholder=\"Mobile Number\" id= 'contactNum' required = 'true'\r\n                                            name= 'contactNum' value = {this.state.contactNum} onChange ={this.handleChange} />\r\n                                    </div>\r\n                                </div>\r\n                                 <input type ='submit' className ='btn btn-primary' value ='ADD DETAILS' />\r\n                            </form>\r\n                         </div>\r\n                    </div>\r\n                   </div>         \r\n                }\r\n            </div>\r\n        )\r\n    }\r\n} \r\n\r\nconst mapStateTOProps = (state) =>{\r\n    return{\r\n        cartData:state.cartData,\r\n        users : state.users\r\n    }\r\n}\r\nexport default connect(mapStateTOProps)(OrderCreate)\r\n "]},"metadata":{},"sourceType":"module"}