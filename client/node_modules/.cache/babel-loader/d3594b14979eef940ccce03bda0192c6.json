{"ast":null,"code":"import _defineProperty from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Jan2020_Devlopment\\\\Main projects\\\\ShopEx\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{getCategories}from'../../actions/categoryAction';import{addProduct}from'../../actions/productAction';//  import filepath from '../../media'\nvar AddProduct=/*#__PURE__*/function(_React$Component){_inherits(AddProduct,_React$Component);var _super=_createSuper(AddProduct);function AddProduct(){var _this;_classCallCheck(this,AddProduct);_this=_super.call(this);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleImage=function(e){var filepath=e.target.files[0];_this.setState(_defineProperty({},e.target.name,filepath));//Image Review\nvar events=[e.target.id];var reader=new FileReader();reader.addEventListener(\"load\",function(){_this.setState(_defineProperty({},events,reader.result));},false);reader.readAsDataURL(filepath);};_this.handleSubmit=function(e){e.preventDefault();var formData=new FormData();formData.append('name',_this.state.name);formData.append('description',_this.state.description);formData.append('price',_this.state.price);formData.append('quantity',_this.state.quantity);formData.append('categoryID',_this.state.category);formData.append('subCategoryID',_this.state.subcategory);formData.append('mainImage',_this.state.mainImage);formData.append('cartImage',_this.state.cartImage);var redirect=function redirect(){return _this.props.history.push('/products/list');};_this.props.dispatch(addProduct(formData,redirect));};_this.state={name:'',description:'',category:'',subcategory:'',price:'',quantity:'',mainImage:'',cartImage:'',reviewmainImage:'',reviewcartImage:''};return _this;}_createClass(AddProduct,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.categories.length===0){this.props.dispatch(getCategories());}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid ml-3\"},/*#__PURE__*/React.createElement(\"h3\",null,\" Adding Products \"),/*#__PURE__*/React.createElement(\"div\",{className:\"row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 border\"},/*#__PURE__*/React.createElement(\"form\",{encType:\"multipart/form-data\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Product Name :\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",required:true,name:\"name\",className:\"form-control\",placeholder:\"Enter the Product name\",value:this.state.name,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"category\"},\"Category:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control w-50\",name:\"category\",id:\"category\",onChange:this.handleChange},/*#__PURE__*/React.createElement(\"option\",null,\"--Select Category--\"),this.props.categories.map(function(item,i){return/*#__PURE__*/React.createElement(\"option\",{key:i+1,value:item._id},item.mainType);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"subcategory\"},\"Sub Category:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control w-50\",name:\"subcategory\",id:\"subcategory\",onChange:this.handleChange},/*#__PURE__*/React.createElement(\"option\",null,\"--Select Sub Category--\"),this.props.categories.map(function(item){if(item.subType.length===0&&item._id===_this2.state.category){return/*#__PURE__*/React.createElement(\"option\",{key:\"1\",value:'NA'},\" Others \");}else if(item._id===_this2.state.category){return item.subType.map(function(subtypes,j){return/*#__PURE__*/React.createElement(\"option\",{key:j+1,value:subtypes._id},subtypes.name);});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\"},\"Description :\"),/*#__PURE__*/React.createElement(\"textarea\",{id:\"description\",required:true,name:\"description\",className:\"form-control h-50\",rows:\"10\",placeholder:\"Enter the description\",value:this.state.description,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"price\"},\"Price :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group input-group mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text fa fa-rupee\",id:\"basic-addon1\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"price\",required:true,name:\"price\",className:\"form-control\",placeholder:\"Enter the Product price\",value:this.state.price,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"quantity\"},\"Quantity Avilable:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"quantity\",required:true,name:\"quantity\",className:\"form-control\",placeholder:\"Enter the Product quantity\",value:this.state.quantity,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"mainImage\"},\"Main Image :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text fa fa-file-image-o\",id:\"mainImage\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"custom-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"custom-file-input\",id:\"reviewmainImage\",name:\"mainImage\",onChange:this.handleImage,\"aria-describedby\":\"mainImage\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-file-label\",htmlFor:\"reviewmainImage\"},this.state.mainImage===''?'Choose Main image':this.state.mainImage.name)))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"quantity\"},\"Cart Image :\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text fa fa-file-image-o\",id:\"inputGroupFileAddon01\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"custom-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"custom-file-input\",id:\"reviewcartImage\",name:\"cartImage\",\"aria-describedby\":\"cartImage\",onChange:this.handleImage}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-file-label\",htmlFor:\"reviewcartImage\"},this.state.cartImage===''?'Choose Cart image':this.state.cartImage.name,\" \")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",id:\"submit\",name:\"submit\",className:\"btn btn-success w-25\",value:\"Add\"})))),this.state.mainImage?/*#__PURE__*/React.createElement(\"div\",{className:\"col-4  ml-4\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Main Image Review\"),/*#__PURE__*/React.createElement(\"img\",{src:this.state.reviewmainImage,alt:\"\"})):'',this.state.cartImage?/*#__PURE__*/React.createElement(\"div\",{className:\"col-2  ml-1\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Cart Image Review\"),/*#__PURE__*/React.createElement(\"img\",{src:this.state.reviewcartImage,alt:\"\"})):''));}}]);return AddProduct;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{categories:state.categories};};export default connect(mapStateToProps)(AddProduct);","map":{"version":3,"sources":["D:/Jan2020_Devlopment/Main projects/ShopEx/client/src/components/items/addItems.js"],"names":["React","connect","getCategories","addProduct","AddProduct","handleChange","e","setState","target","name","value","handleImage","filepath","files","events","id","reader","FileReader","addEventListener","result","readAsDataURL","handleSubmit","preventDefault","formData","FormData","append","state","description","price","quantity","category","subcategory","mainImage","cartImage","redirect","props","history","push","dispatch","reviewmainImage","reviewcartImage","categories","length","map","item","i","_id","mainType","subType","subtypes","j","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux' \r\nimport {getCategories} from '../../actions/categoryAction'\r\nimport { addProduct } from '../../actions/productAction' \r\n//  import filepath from '../../media'\r\n\r\nclass AddProduct extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            name:'',\r\n            description:'',\r\n            category : '',\r\n            subcategory :'',\r\n            price:'',\r\n            quantity:'',\r\n            mainImage:'',\r\n            cartImage:'',\r\n            reviewmainImage:'',\r\n            reviewcartImage:''             \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.categories.length === 0) {\r\n            this.props.dispatch(getCategories())\r\n            \r\n        }  \r\n    }\r\n\r\n    handleChange =(e) =>{\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    handleImage =(e) =>{\r\n        const filepath = e.target.files[0]        \r\n        this.setState({\r\n            [e.target.name]:filepath\r\n        })\r\n         \r\n        //Image Review\r\n         const events = [e.target.id]          \r\n        const reader = new FileReader()\r\n        reader.addEventListener(\"load\",( )=>{                    \r\n            this.setState({ [events]:reader.result})\r\n        },false)\r\n        reader.readAsDataURL(filepath)\r\n    }\r\n\r\n    handleSubmit = (e) =>{\r\n        e.preventDefault()\r\n\r\n        const formData = new FormData()\r\n        formData.append('name',this.state.name)\r\n        formData.append('description',this.state.description)\r\n        formData.append('price',this.state.price)\r\n        formData.append('quantity',this.state.quantity)\r\n        formData.append('categoryID',this.state.category)\r\n        formData.append('subCategoryID',this.state.subcategory)\r\n        formData.append('mainImage',this.state.mainImage)\r\n        formData.append('cartImage',this.state.cartImage)\r\n         \r\n        const redirect = () =>{\r\n            return this.props.history.push('/products/list')             \r\n        }\r\n\r\n\r\n        this.props.dispatch(addProduct(formData,redirect))\r\n      \r\n    }\r\n\r\n    render(){ \r\n\r\n        return(\r\n            <div className ='container-fluid ml-3'>\r\n                <h3> Adding Products </h3>\r\n                <div className='row '>\r\n                    <div className ='col-5 border'>\r\n                        <form   encType=\"multipart/form-data\" onSubmit ={this.handleSubmit} >                              \r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='name' >Product Name :</label>\r\n                                <input type= 'text'id='name' required={true} name ='name' className ='form-control' \r\n                                    placeholder ='Enter the Product name' value ={this.state.name} onChange ={this.handleChange}  />\r\n                            </div>\r\n                            {/* category list */}\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='category' >Category:</label>                                    \r\n                                <br/>\r\n                                <select className=\"form-control w-50\" name = 'category'  id ='category' onChange ={this.handleChange}>        \r\n                                    <option>--Select Category--</option>                               \r\n                                    {\r\n                                        this.props.categories.map ((item,i)=>{\r\n                                            return(\r\n                                                <option key ={i+1} value ={item._id}  >{item.mainType}</option>\r\n                                            )\r\n                                        })    \r\n                                    }\r\n                                </select>                      \r\n                                \r\n                            </div>\r\n                           {/* Sub category list */}\r\n                           <div className = 'form-group'>\r\n                                <label htmlFor='subcategory' >Sub Category:</label>                                    \r\n                                <br/>\r\n                                <select className=\"form-control w-50\" name ='subcategory' id='subcategory' onChange = {this.handleChange}>  \r\n                                    <option>--Select Sub Category--</option>                                      \r\n                                    {\r\n                                        this.props.categories.map ((item)=> {                                           \r\n                                            \r\n                                            if(item.subType.length===0 && item._id === this.state.category)\r\n                                            {\r\n                                                return (\r\n                                                    <option key ='1' value ={'NA'}   > Others </option>\r\n                                                )\r\n                                            }\r\n                                            else if(  item._id === this.state.category){\r\n                                                return item.subType.map((subtypes,j)=>{                                                        \r\n                                                    return(\r\n                                                        <option key ={j+1} value ={subtypes._id} \r\n                                                            >{subtypes.name}</option>\r\n                                                    )\r\n                                                })\r\n                                            } \r\n                                        })    \r\n                                    }\r\n                                </select>                    \r\n                                 \r\n                            </div>\r\n\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='description' >Description :</label>\r\n                                <textarea  id='description' required={true} name ='description'\r\n                                     className ='form-control h-50' rows='10' placeholder ='Enter the description' value ={this.state.description}\r\n                                     onChange ={this.handleChange}   />\r\n                            </div>\r\n                            \r\n                            <label htmlFor='price' >Price :</label>                                  \r\n                            <div className = 'form-group input-group mb-3'>\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text fa fa-rupee\" id=\"basic-addon1\"></span>\r\n                                </div>\r\n                                \r\n                                <input type= 'text' id='price' required={true} name ='price' className ='form-control' \r\n                                    placeholder ='Enter the Product price' value ={this.state.price} onChange ={this.handleChange}  /> \r\n                            </div>\r\n\r\n                            <div className = 'form-group'>\r\n                                <label htmlFor='quantity' >Quantity Avilable:</label>\r\n                                <input type= 'text'id='quantity' required={true} name ='quantity' className ='form-control' \r\n                                    placeholder ='Enter the Product quantity' value ={this.state.quantity} onChange ={this.handleChange}  />\r\n                            </div>\r\n\r\n                            <div  className = 'form-group '>\r\n                                <label htmlFor='mainImage' >Main Image :</label>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <span className=\"input-group-text fa fa-file-image-o\" id=\"mainImage\"></span>\r\n                                    </div>\r\n                                    <div className=\"custom-file\">\r\n                                        <input type=\"file\" className=\"custom-file-input\" id=\"reviewmainImage\" name = 'mainImage'\r\n                                           onChange ={this.handleImage} aria-describedby=\"mainImage\"  />\r\n                                        <label className=\"custom-file-label\" htmlFor=\"reviewmainImage\">\r\n                                            { this.state.mainImage ===''  ? 'Choose Main image' : this.state.mainImage.name }</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div  className = 'form-group '>\r\n                                <label htmlFor='quantity' >Cart Image :</label>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <span className=\"input-group-text fa fa-file-image-o\" id=\"inputGroupFileAddon01\"></span>\r\n                                    </div>\r\n                                    <div className=\"custom-file\">\r\n                                        <input type=\"file\" className=\"custom-file-input\" id=\"reviewcartImage\"  name ='cartImage'\r\n                                            aria-describedby=\"cartImage\" onChange ={this.handleImage}  />\r\n                                        <label className=\"custom-file-label\" htmlFor=\"reviewcartImage\">\r\n                                        { this.state.cartImage ===''  ? 'Choose Cart image' : this.state.cartImage.name } </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                       \r\n                            \r\n                            <div className = 'form-group'> \r\n                                <input type= 'submit' id='submit' name ='submit' className ='btn btn-success w-25' \r\n                                    value ='Add'  />\r\n                            </div>\r\n                        </form>  \r\n                    </div>\r\n                        {\r\n                            this.state.mainImage   ? \r\n                                <div className ='col-4  ml-4'>\r\n                                    <h5>Main Image Review</h5>\r\n                                    <img src = {this.state.reviewmainImage} alt=''/> \r\n                                    \r\n                                </div>\r\n                                :'' \r\n                        }\r\n                        {\r\n                            this.state.cartImage ? \r\n                            <div className ='col-2  ml-1'>\r\n                                <h5>Cart Image Review</h5>\r\n                                <img src = {this.state.reviewcartImage} alt=''/> \r\n                            </div>\r\n                            :'' \r\n                        }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps =(state) =>{\r\n    return{\r\n        categories : state.categories\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(AddProduct)"]},"metadata":{},"sourceType":"module"}