(this.webpackJsonpshopex=this.webpackJsonpshopex||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/Logo-1.aaa53939.PNG"},48:function(e,t,a){e.exports=a.p+"static/media/image1.2ef8e484.jpg"},49:function(e,t,a){e.exports=a.p+"static/media/image2.e09ce4e7.jpg"},50:function(e,t,a){e.exports=a.p+"static/media/image3.d1d39096.jpg"},51:function(e,t,a){e.exports=a.p+"static/media/image4.2be7db46.jpg"},52:function(e,t,a){e.exports=a.p+"static/media/image5.54ce5ec0.jpg"},54:function(e,t,a){e.exports=a(84)},59:function(e,t,a){},60:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=(a(59),a(8)),o=a(10),i=(a(60),a(3)),m=a(4),d=a(6),u=a(5),p=a(44),h=a.n(p),g=a(2),E=a(46),f=a.n(E),b=window.location.origin.includes("localhost")?"http://localhost:3005/api":"/api",v=f.a.create({baseURL:b}),y=function(e){return window.location.href=e},N=function(){return function(e){v.get("/categories").then((function(t){e({type:"SET_CATEGORY",payload:t.data})})).catch((function(e){console.log(e)}))}},w=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(N())}},{key:"render",value:function(){return r.a.createElement("div",{className:"row ml-5 mb-3"},this.props.categories?this.props.categories.map((function(e,t){return r.a.createElement("div",{className:"dropdown mr-2",key:t+1},r.a.createElement("button",{type:"button",className:"btn  dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.mainType),r.a.createElement("div",{className:"dropdown-menu"},e.subType.map((function(e,t){return r.a.createElement("a",{className:"dropdown-item",href:"/products/query/".concat(e._id),key:t+1},e.name," ")}))))})):"")}}]),a}(r.a.Component),C=Object(g.b)((function(e){return{categories:e.categories}}))(w),O=a(23),x=a.n(O),S=function(e){return{type:"SET_USER",payload:e}},j=function(){return function(e){v.get("/users/account",{headers:{auth:localStorage.getItem("token")}}).then((function(t){e(S(t.data))})).catch((function(e){console.log(e)}))}},I=function(e){return{type:"ADD_PRODUCT",payload:e}},k=function(){return function(e){v.get("/products",{headers:{"Content-Type":"multipart/form-data",auth:localStorage.getItem("token")}}).then((function(t){e({type:"UPDATE_PRODUCT",payload:t.data})})).catch((function(e){console.log(e)}))}},T=function(e){return function(t){v.get("/products/".concat(e),{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(I(e.data))})).catch((function(e){console.log(e)}))}},D=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch(j());var t=setInterval((function(){e.props.users.length&&(clearInterval(t),e.setState({role:e.props.users[0].role}),console.log(e.props.users[0].role))}),1e3)},e.handleLogout=function(){localStorage.removeItem("token"),window.location.href="/"},e.handleSearch=function(t){e.setState({searchText:t.target.value})},e.handleSubmitSearch=function(t){window.location.href="/search/q=".concat(e.state.searchText)},e.state={role:"",searchText:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/"}," ",r.a.createElement("img",{src:h.a,alt:"",style:{height:"80px"}})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent"},r.a.createElement("div",{className:"input-group mt-2 ml-5  w-50 "},r.a.createElement("input",{className:"form-control ",type:"text",placeholder:"Search by product name","aria-label":"Search",value:this.state.searchText,onChange:this.handleSearch}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-md btn-outline-warning ",onClick:this.handleSubmitSearch}," Search "))),r.a.createElement("ul",{className:"navbar-nav  ml-5"},localStorage.getItem("token")?r.a.createElement("div",{className:"navbar-nav "},"Admin"===this.state.role?r.a.createElement("div",{className:"dropdown ml-3 mr-2 "},r.a.createElement("button",{type:"button",className:"btn btn-success  dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Account"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(s.b,{to:"/account",className:"dropdown-item"}," Profile "),r.a.createElement(s.b,{to:"/products/add",className:"dropdown-item"}," Add Product "),r.a.createElement(s.b,{to:"/orders",className:"dropdown-item"}," Orders Summary "),r.a.createElement(s.b,{to:"/categories/list",className:"dropdown-item"}," Categories List "),r.a.createElement(s.b,{to:"/categories/update",className:"dropdown-item"},"Add/Update Category "),r.a.createElement(s.b,{to:"/products/list",className:"dropdown-item"}," Products Summary "))):r.a.createElement("div",{className:"dropdown ml-3 mr-2 "},r.a.createElement("button",{type:"button",className:"btn btn-primary  dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Account"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(s.b,{to:"/account",className:"dropdown-item"}," Profile "),r.a.createElement(s.b,{to:"/orders/summary",className:"dropdown-item"}," My Orders "))),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{to:"/cart",className:"nav-link navbar-brand fa fa-shopping-cart ml-3",style:{display:"Admin"===this.state.role?"none":""}}," Cart ")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{to:"#",onClick:this.handleLogout,className:"nav-link navbar-brand fa fa-sign-out"}," SignOut"))):r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{to:"/login",className:"nav-link navbar-brand"}," Signin ")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{to:"/register",className:"nav-link navbar-brand"}," SignUp "))))))),r.a.createElement(C,null))}}]),a}(r.a.Component),P=Object(g.b)((function(e){return{users:e.users}}))(D),q=a(9),A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t,a){return function(n){v.post("/users/login",e).then((function(e){e.data.hasOwnProperty("error")?x()({title:e.data.error,icon:"error",button:"OK"}):(localStorage.setItem("token",e.data.token),v.get("users/account",{headers:{auth:localStorage.getItem("token")}}).then((function(e){n(S(e.data)),x()({title:"Login Successfull !",icon:"success",button:"OK"}).then((function(){t(),a()}))})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))}}(a,(function(){return e.props.history.push("/")}),(function(){return window.location.reload()})))},e.state={email:"",password:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row login-row justify-content-center mt-5"},r.a.createElement("div",{className:"col-sm-5"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h3",{className:"text"},"Login Here!")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email :"),r.a.createElement("input",{type:"email",id:"email",required:!0,name:"email",className:"form-control",placeholder:"Enter the Email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password :"),r.a.createElement("input",{type:"password",id:"password",required:!0,name:"password",className:"form-control",placeholder:"Enter the Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",id:"submit",name:"submit",className:"btn btn-success w-25",value:"Login",onClick:this.handleSubmit})),"New Customer ",r.a.createElement("a",{href:"/register"}," Register here ")))))}}]),a}(r.a.Component),R=Object(g.b)()(A),_=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();if(e.state.password===e.state.confirmPwd){var a={firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(a){v.post("/users/register",e).then((function(e){e.data.hasOwnProperty("error")||e.data.hasOwnProperty("errors")?(alert(e.data.error),t()):(alert("Registered Successfully"),t())})).catch((function(e){console.log(e)}))}}(a,(function(){return e.props.history.push("/login")})))}else e.setState({pwdMsg:"Password not matched",confirmPwd:""})},e.state={firstName:"",lastName:"",email:"",password:"",confirmPwd:"",pwdMsg:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-2"},r.a.createElement("div",{className:"row  justify-content-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h3",{className:"text"}," Create Account")),r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"First Name :"),r.a.createElement("input",{type:"firstName",id:"firstName",required:!0,name:"firstName",className:"form-control",placeholder:"Enter the firstName",value:this.state.firstName,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name :"),r.a.createElement("input",{type:"lastName",id:"lastName",required:!0,name:"lastName",className:"form-control",placeholder:"Enter the lastName",value:this.state.lastName,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email :"),r.a.createElement("input",{type:"email",id:"email",required:!0,name:"email",className:"form-control",placeholder:"Enter the Email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password :"),r.a.createElement("input",{type:"password",id:"password",required:!0,name:"password",className:"form-control",placeholder:"Enter the Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirmPwd"},"Confirm Password :"),r.a.createElement("input",{type:"password",id:"confirmPwd",required:!0,name:"confirmPwd",className:"form-control",placeholder:"Enter the Password",value:this.state.confirmPwd,onChange:this.handleChange}),r.a.createElement("span",{style:{color:"red"}},this.state.pwdMsg)),r.a.createElement("input",{type:"submit",id:"submit",name:"submit",className:"btn btn-success w-50",value:"Register",onClick:this.handleSubmit})))))}}]),a}(r.a.Component),F=Object(g.b)()(_),M=a(24),L=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch((function(e){v.post("/products/topnew").then((function(t){e(I(t.data))})).catch((function(e){console.log(e)}))}));var t=setInterval((function(){e.props.products.length&&(clearInterval(t),e.setState({products:e.props.products}))}),1e3)},e.state={products:[]},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log("Product Type",this.props.products),r.a.createElement(U,{products:this.state.products})}}]),a}(r.a.Component);function U(e){return r.a.createElement("div",null,e.products.length?r.a.createElement("div",{className:"container-fluid mt-3 ml-2"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-5"},r.a.createElement("h3",null," Top New products "))),r.a.createElement("div",{className:"row"},e.products.map((function(e,t){return r.a.createElement(s.b,{className:"col-md-3 mt-2",to:"/products/".concat(e._id),style:{color:"black",textDecoration:"none"},key:t+1},r.a.createElement(M.a,{className:"border-none",style:{height:"100%"}},r.a.createElement(M.a.Img,{variant:"top",src:e.mainImage,style:{height:"200px",width:"50%",marginLeft:"auto",marginRight:"auto"}}),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,e.name),r.a.createElement(M.a.Text,null,r.a.createElement("span",{className:" fa fa-rupee",id:"basic-addon1"})," ",e.price))))})))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-danger m-5 ",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}var Q=Object(g.b)((function(e){return{categories:e.categories,products:e.products}}))(L),G=a(21),z=a(48),Y=a.n(z),H=a(49),J=a.n(H),B=a(50),K=a.n(B),X=a(51),W=a.n(X),V=a(52),Z=a.n(V);var $=function(e){return r.a.createElement(G.a,{interval:2e3},r.a.createElement(G.a.Item,null,r.a.createElement("img",{className:"img-fluid w-100 ",src:Y.a,alt:"First slide",style:{height:"280px"}})),r.a.createElement(G.a.Item,null,r.a.createElement("img",{className:"d-block w-100 ",src:J.a,alt:"Second slide",style:{height:"280px"}})),r.a.createElement(G.a.Item,null,r.a.createElement("img",{className:"d-block w-100 ",src:K.a,alt:"Third slide",style:{height:"280px"}})),r.a.createElement(G.a.Item,null,r.a.createElement("img",{className:"d-block w-100 ",src:W.a,alt:"Fourth slide",style:{height:"280px"}})),r.a.createElement(G.a.Item,null,r.a.createElement("img",{className:"d-block w-100 ",src:Z.a,alt:"Fifth slide",style:{height:"280px"}})))},ee=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",null,r.a.createElement(Q,null)))}}]),a}(r.a.Component),te=Object(g.b)()(ee),ae=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch(j());var t=setInterval((function(){e.props.users.length&&(clearInterval(t),e.setState({firstName:e.props.users[0].firstName,lastName:e.props.users[0].lastName,address:e.props.users[0].address,mobile:e.props.users[0].mobile,email:e.props.users[0].email,gender:e.props.users[0].gender}))}),1e3)},e.handleInfoEdit=function(){e.setState({infoEdit:!1})},e.handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={firstName:e.state.firstName,lastName:e.state.lastName,address:e.state.address,mobile:e.state.mobile,email:e.state.email,gender:e.state.gender};e.props.dispatch(function(e,t,a){return console.log("Edit",e,t),function(n){v.put("/users/".concat(t),e,{headers:{auth:localStorage.getItem("token")}}).then((function(e){if(console.log(e.data),e.data.hasOwnProperty("error")||e.data.hasOwnProperty("errors"))alert("Customer Data not Updated !");else{var t=e.data;n(function(e){return{type:"EDIT_USER",payload:e}}(t)),a()}}))}}(a,e.props.users[0]._id,(function(){return window.location.reload()})))},e.state={firstName:"",lastName:"",address:"",mobile:"",email:"",gender:"",infoEdit:!0},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",{className:"mb-4"}," Personal Information "),r.a.createElement("a",{href:"#",className:" ml-3  text-monospace text-decoration-none",onClick:this.handleInfoEdit,style:{fontSize:"lg"}},"Edit")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"}," First Name",r.a.createElement("input",{type:"text","aria-label":"First name",className:"form-control",disabled:this.state.infoEdit,name:"firstName",value:this.state.firstName,onChange:this.handleChange})),r.a.createElement("div",{className:"col-md-4"},"  Last Name",r.a.createElement("input",{type:"text","aria-label":"Last name",className:"form-control",disabled:this.state.infoEdit,name:"lastName",value:this.state.lastName,onChange:this.handleChange}))),r.a.createElement("h6",{className:"mt-3"},"Your Gender"),r.a.createElement("div",{className:"row ml-2"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"Male",value:"Male",disabled:this.state.infoEdit,onChange:this.handleChange,checked:"Male"===this.state.gender}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Male"},"Male")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"Female",value:"Female",disabled:this.state.infoEdit,onChange:this.handleChange,checked:"Female"===this.state.gender}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Female"},"Female"))),r.a.createElement("h6",{className:"mt-5"},"Email Address"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{type:"email","aria-label":"Email",className:"form-control",disabled:this.state.infoEdit,name:"email",value:this.state.email,onChange:this.handleChange}))),r.a.createElement("h6",{className:"mt-4"},"Mail Address"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("textarea",{type:"text","aria-label":"Address",className:"form-control",disabled:this.state.infoEdit,name:"address",value:this.state.address,onChange:this.handleChange}))),r.a.createElement("h6",{className:"mt-4"},"Mobile Number"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"+91")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Mobile Number",disabled:this.state.infoEdit,name:"mobile",value:this.state.mobile,onChange:this.handleChange})))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary w-50",onClick:this.handleSubmit},"Save"))))}}]),a}(r.a.Component),ne=Object(g.b)((function(e){return{users:e.users}}))(ae),re=a(16),ce=function(e){return{type:"CREATE_CART",payload:e}},le=function(){return function(e){v.get("/cart",{headers:{auth:localStorage.getItem("token")}}).then((function(t){e(ce(t.data))})).catch((function(e){console.log(e)}))}},se=function(e,t){return function(a){v.put("products/quantity/update",e).then((function(n){n.data.hasOwnProperty("message")?alert(n.data.message):n.data.hasOwnProperty("error")?alert(n.data.error):v.put("/cart/qunatity/update",e,{headers:{auth:localStorage.getItem("token")}}).then((function(e){a({type:"EDIT_CART",payload:e.data}),t()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},oe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch(le());var t=setInterval((function(){if(e.props.cartData.length){clearInterval(t);var a=0;if(e.props.cartData.map((function(e){return a+=e.price*e.quantity})),a>0){var n=1*a/100;e.setState({price:a,tax:n})}}}),1e3)},e.handleCartQuantity=function(t,a){var n=t.target.name;"less"===n&&1===a.quantity?alert("Item quantity can not be less than 1"):a.quantity>=3&&"add"===n&&alert("Upto 3 quantity only purchase at a time ");var r=function(){return window.location.reload()};if("less"===n&&a.quantity>1){var c={id:a.productID,cartQuantity:-1,cartid:a._id,productQuantity:1,currentQuantity:a.quantity,auth:localStorage.getItem("token")};e.props.dispatch(se(c,r))}else if("add"===n&&a.quantity>=1&&a.quantity<3){var l={id:a.productID,cartQuantity:1,cartid:a._id,productQuantity:-1,currentQuantity:a.quantity,auth:localStorage.getItem("token")};e.props.dispatch(se(l,r))}},e.handleRemove=function(t){var a=t.target.value;e.props.dispatch(function(e,t){return function(a){v.delete("/cart/".concat(e),{headers:{auth:localStorage.getItem("token")}}).then((function(e){if(e.data.hasOwnProperty("error"))alert(e.data);else{a(le()),t();var n={productQuantity:e.data.quantity,cartQuantity:-1,currentQuantity:e.data.quantity,id:e.data.productID};v.put("/products/quantity/update",n).then((function(e){e.data.hasOwnProperty("message")?alert(e.data.message):e.data.hasOwnProperty("error")&&alert(e.data.error)})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}}(a,(function(){return window.location.reload()})))},e.state={path:window.location.origin,price:0,tax:0},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid m-3 "},r.a.createElement("h4",{style:{visibility:this.props.cartData.length?"visible":"hidden"}}," My Cart"),this.props.cartData.length?r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-6"},this.props.cartData.map((function(t,a){return r.a.createElement("div",{className:"card mb-2",key:a+1},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-1 mt-3"},r.a.createElement("img",{src:"".concat(e.state.path,"/").concat(t.image),className:"card-img",alt:"No Image"})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"card-title"},t.name))),r.a.createElement("div",null,r.a.createElement("h5",{className:"card-text text-left mt-3"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title text-left",displayType:"text",prefix:"\u20b9",value:t.price}))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"submit",className:"card-text border-white rounded-circle",name:"less",onClick:function(a){e.handleCartQuantity(a,t)},value:"-"}),r.a.createElement("input",{type:"text",disabled:!0,value:t.quantity,className:"text-center w-25"}),r.a.createElement("input",{type:"submit",className:"card-text border-white rounded-circle",name:"add",onClick:function(a){e.handleCartQuantity(a,t)},value:"+"})),r.a.createElement("div",{className:"col-7"},r.a.createElement("button",{className:"card-text float-right btn btn-danger mt-3",value:t._id,onClick:e.handleRemove}," Remove")))))))}))),r.a.createElement("div",{className:"col-3  mr-auto ml-5",style:{height:"100%",width:"150%"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,"PRICE DETAILS")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h5",{className:"card-title float-left"},"Price (".concat(this.props.cartData.length," items)")," "),r.a.createElement("h5",{className:"card-title float-right"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title float-right",displayType:"text",prefix:"\u20b9",value:this.state.price}))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h5",{className:"card-title float-left"},"TAX  "),r.a.createElement("h5",{className:"card-title float-right"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title float-right",displayType:"text",prefix:"\u20b9",value:this.state.tax})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("h5",{className:"card-title float-left"},"TOTAL PRICE "),r.a.createElement("h5",{className:"card-title float-right"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title float-right",displayType:"text",prefix:"\u20b9",value:this.state.price+this.state.tax}))),r.a.createElement(s.b,{to:"/orders/add",id:"submit",name:"submit",className:"btn btn-danger "}," PLACE ORDER ")))):r.a.createElement("div",{className:"container border mx-auto",style:{height:"200px"}},r.a.createElement("h4",null," My Cart"),r.a.createElement("div",{className:"row justify-content-md-center mt-5"},r.a.createElement("div",{className:"col-11 offset-md-9"},r.a.createElement("h5",null," Your cart is empty! "))),r.a.createElement("div",{className:"row justify-content-md-center mt-5"},r.a.createElement("div",{className:"col-11 offset-md-9"},r.a.createElement(s.b,{to:"/",className:"btn btn-primary"}," Shop More..")))))}}]),a}(r.a.Component),ie=Object(g.b)((function(e){return{cartData:e.cartData,users:e.users}}))(oe),me=function(e){return{type:"SET_ORDERS",payload:e}},de=function(){return function(e){v.get("/orders",{headers:{auth:localStorage.getItem("token")}}).then((function(t){t.data.hasOwnProperty("error")?x()({title:t.data.error,icon:"error",button:"OK"}).then((function(){window.location.href="/"})):e(me(t.data))})).catch((function(e){console.log(e)}))}},ue=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.dispatch(de());var t=setInterval((function(){e.props.orders.length&&(clearInterval(t),console.log(e.props.orders))}),1e3)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null," Order Summary "),r.a.createElement("table",{className:"table table-striped table-dark table-bordered "},r.a.createElement("caption",{className:"align-text-top"},"List of ",this.props.orders.length," orders"),r.a.createElement("thead",{className:"bg-success"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Order ID"),r.a.createElement("th",{scope:"col"},"Product Name"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Status"))),r.a.createElement("tbody",null,this.props.orders.map((function(e,t){return r.a.createElement("tr",{key:t+1},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e._id),r.a.createElement("td",{className:"align-self-center"},e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.status))})))))}}]),a}(r.a.Component),pe=Object(g.b)((function(e){return{orders:e.orders}}))(ue),he=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleImage=function(t){var a=t.target.files[0];e.setState(Object(q.a)({},t.target.name,a));var n=[t.target.id],r=new FileReader;r.addEventListener("load",(function(){e.setState(Object(q.a)({},n,r.result))}),!1),r.readAsDataURL(a)},e.handleSubmit=function(t){t.preventDefault();var a=new FormData;a.append("name",e.state.name),a.append("description",e.state.description),a.append("price",e.state.price),a.append("quantity",e.state.quantity),a.append("categoryID",e.state.category),a.append("subCategoryID",e.state.subcategory),a.append("mainImage",e.state.mainImage),a.append("cartImage",e.state.cartImage);e.props.dispatch(function(e,t){return function(a){v.post("/products",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a(I(e.data)),t()})).catch((function(e){console.log(e)}))}}(a,(function(){return e.props.history.push("/products/list")})))},e.state={name:"",description:"",category:"",subcategory:"",price:"",quantity:"",mainImage:"",cartImage:"",reviewmainImage:"",reviewcartImage:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){0===this.props.categories.length&&this.props.dispatch(N())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid ml-3"},r.a.createElement("h3",null," Adding Products "),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-5 border"},r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Product Name :"),r.a.createElement("input",{type:"text",id:"name",required:!0,name:"name",className:"form-control",placeholder:"Enter the Product name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category:"),r.a.createElement("br",null),r.a.createElement("select",{className:"form-control w-50",name:"category",id:"category",onChange:this.handleChange},r.a.createElement("option",null,"--Select Category--"),this.props.categories.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e._id},e.mainType)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subcategory"},"Sub Category:"),r.a.createElement("br",null),r.a.createElement("select",{className:"form-control w-50",name:"subcategory",id:"subcategory",onChange:this.handleChange},r.a.createElement("option",null,"--Select Sub Category--"),this.props.categories.map((function(t){return 0===t.subType.length&&t._id===e.state.category?r.a.createElement("option",{key:"1",value:"NA"}," Others "):t._id===e.state.category?t.subType.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e._id},e.name)})):void 0})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description :"),r.a.createElement("textarea",{id:"description",required:!0,name:"description",className:"form-control h-50",rows:"10",placeholder:"Enter the description",value:this.state.description,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"price"},"Price :"),r.a.createElement("div",{className:"form-group input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text fa fa-rupee",id:"basic-addon1"})),r.a.createElement("input",{type:"text",id:"price",required:!0,name:"price",className:"form-control",placeholder:"Enter the Product price",value:this.state.price,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity Avilable:"),r.a.createElement("input",{type:"text",id:"quantity",required:!0,name:"quantity",className:"form-control",placeholder:"Enter the Product quantity",value:this.state.quantity,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{htmlFor:"mainImage"},"Main Image :"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text fa fa-file-image-o",id:"mainImage"})),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"reviewmainImage",name:"mainImage",onChange:this.handleImage,"aria-describedby":"mainImage"}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"reviewmainImage"},""===this.state.mainImage?"Choose Main image":this.state.mainImage.name)))),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{htmlFor:"quantity"},"Cart Image :"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text fa fa-file-image-o",id:"inputGroupFileAddon01"})),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"reviewcartImage",name:"cartImage","aria-describedby":"cartImage",onChange:this.handleImage}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"reviewcartImage"},""===this.state.cartImage?"Choose Cart image":this.state.cartImage.name," ")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",id:"submit",name:"submit",className:"btn btn-success w-25",value:"Add"})))),this.state.mainImage?r.a.createElement("div",{className:"col-4  ml-4"},r.a.createElement("h5",null,"Main Image Review"),r.a.createElement("img",{src:this.state.reviewmainImage,alt:""})):"",this.state.cartImage?r.a.createElement("div",{className:"col-2  ml-1"},r.a.createElement("h5",null,"Cart Image Review"),r.a.createElement("img",{src:this.state.reviewcartImage,alt:""})):""))}}]),a}(r.a.Component),ge=Object(g.b)((function(e){return{categories:e.categories}}))(he),Ee=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleCartAdd=function(){var t={name:e.state.products.name,price:e.state.products.price,quantity:e.state.quantity,image:e.state.products.cartImage,productID:e.state.products._id};e.props.dispatch(function(e,t){return function(a){var n={productQuantity:-1,cartQuantity:1,currentQuantity:1,id:e.productID};v.put("/products/quantity/update",n).then((function(n){console.log(n.data),n.data.hasOwnProperty("message")?alert(n.data.message):n.data.hasOwnProperty("error")?alert(n.data.error):v.post("/cart",e,{headers:{auth:localStorage.getItem("token")}}).then((function(e){a(ce(e.data)),t()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}}(t,(function(){return window.location.href="/cart"})))},e.state={products:{},path:window.location.origin,quantity:1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(T(this.props.match.params.id));var t=setInterval((function(){if(e.props.products.length){clearInterval(t);var a=e.props.products[0];e.setState({products:a})}}),1e3)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.products!=={}&&this.state.products.mainImage?r.a.createElement("div",{className:"container-fluid  mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 align-self-center"},r.a.createElement("img",{src:"".concat(this.state.path,"/").concat(this.state.products.mainImage),className:"image img mb-5",alt:"Image not found",style:{height:"300px",width:"80%",marginLeft:"6%",marginRight:"auto"}}),r.a.createElement("br",null),localStorage.getItem("token")?r.a.createElement("div",null,r.a.createElement("input",{type:"submit",id:"submit",name:"submit",className:"btn btn-warning w-100  ml-3",value:"ADD TO CART",onClick:this.handleCartAdd,disabled:"Admin"===this.props.users[0].role})):r.a.createElement("h4",null," Login or Register to order the product ")),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,this.state.products.name)," ",r.a.createElement("h6",null,"\xa0"),r.a.createElement("h4",null," ",r.a.createElement("span",{className:"fa fa-rupee"})," ",this.state.products.price),r.a.createElement("ul",{style:{listStyleType:"circle",fontSize:"22px"}},this.state.products.description?this.state.products.description.split("--").map((function(e,t){return r.a.createElement("li",{key:t},e)})):"")))):"",r.a.createElement("br",null))}}]),a}(r.a.Component),fe=Object(g.b)((function(e){return{products:e.products,users:e.users}}))(Ee),be=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.dispatch(k()),e.props.dispatch(N());var t=setInterval((function(){e.props.products.length&&e.props.categories.length&&clearInterval(t)}),1e3)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",null," Products Summary ")),r.a.createElement("div",{className:"col-4"},r.a.createElement(s.b,{to:"/products/add",className:"btn btn-info"}," Add products"))),r.a.createElement("table",{className:"table table-striped table-dark table-bordered "},r.a.createElement("caption",{className:"align-text-top"},"List of ",this.props.products.length," products"),r.a.createElement("thead",{className:"bg-success"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Product ID"),r.a.createElement("th",{scope:"col"},"Product Name"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Category"),r.a.createElement("th",{scope:"col"},"Sub Category"),r.a.createElement("th",{scope:"col"},"Stock Avilable"),r.a.createElement("th",{scope:"col"},"Update"))),r.a.createElement("tbody",null,this.props.products.map((function(t,a){return r.a.createElement("tr",{key:a+1},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t._id),r.a.createElement("td",{className:"align-self-center"},t.name),r.a.createElement("td",null,t.price),r.a.createElement("td",null,e.props.categories.map((function(e){return e._id===t.categoryID?e.mainType:""}))),r.a.createElement("td",null,e.props.categories.map((function(e){return e.subType.map((function(e){return e._id===t.subCategoryID?e.name:""}))}))),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,"  ",r.a.createElement(s.b,{to:"/products/update/".concat(t._id),className:"btn btn-info btn-sm"}," UPDATE")," "))})))))}}]),a}(r.a.Component),ve=Object(g.b)((function(e){return{products:e.products,categories:e.categories}}))(be),ye=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t;e.props.dispatch((t=e.props.match.params.id,function(e){v.get("/products/query/".concat(t),{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e(I(t.data))})).catch((function(e){console.log(e)}))}));var a=setInterval((function(){e.props.products.length&&(clearInterval(a),e.setState({products:e.props.products}))}),1e3)},e.state={products:[],path:window.location.origin},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,0!==this.state.products.length?r.a.createElement("div",{className:"container  ml-5"},this.state.products.map((function(t,a){return r.a.createElement(s.b,{className:"col-md-3",to:"/products/".concat(t._id),style:{color:"black",textDecoration:"none"},key:a+1},r.a.createElement("div",{className:"card mb-1"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-3 mt-3"},r.a.createElement("img",{src:"".concat(e.state.path,"/").concat(t.mainImage),className:"card-img ml-5",alt:"...",style:{height:"200px",width:"150px"}})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("h4",null," ",r.a.createElement("span",{className:"fa fa-rupee"})," ",t.price),r.a.createElement("ul",{style:{listStyleType:"circle"}},t.description.split("--").map((function(e,t){return e?r.a.createElement("li",{key:t},e):r.a.createElement("br",null)}))))))))}))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-danger m-5 ",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),a}(r.a.Component),Ne=Object(g.b)((function(e){return{products:e.products}}))(ye),we=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.dispatch(N());var t=setInterval((function(){e.props.categories.length&&clearInterval(t)}),1e3)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",null," Categories Summary ")),r.a.createElement("div",{className:"col-4"},r.a.createElement(s.b,{to:"/categories/update",className:"btn btn-info"}," Add More Category"))),r.a.createElement("table",{className:"table table-striped table-dark table-bordered "},r.a.createElement("caption",{className:"align-text-top"},"List of ",this.props.categories.length," Categories"),r.a.createElement("thead",{className:"bg-success"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Category ID"),r.a.createElement("th",{scope:"col"},"Category Name"),r.a.createElement("th",{scope:"col"},"Sub Categories"))),r.a.createElement("tbody",null,this.props.categories.map((function(e,t){return r.a.createElement("tr",{key:t+1},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.mainType),r.a.createElement("td",null,r.a.createElement("ul",{style:{listStyleType:"circle"}},e.subType.map((function(e,t){return r.a.createElement("li",{key:t+1}," ",e.name)})))))})))))}}]),a}(r.a.Component),Ce=Object(g.b)((function(e){return{categories:e.categories}}))(we),Oe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a,n,r={mainType:e.state.mainCategory,subType:{name:e.state.subCategory}};e.props.dispatch((a=r,n="/categories/list",function(e){v.post("/categories",a).then((function(t){e({type:"CREATE_CATEGORY",payload:t.data}),y(n)})).catch((function(e){console.log(e)}))}))},e.state={mainCategory:"",subCategory:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-3"}," Add new Category",r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-md-6 mb-1"}," Category :",r.a.createElement("input",{type:"text",className:"form-control",placeholder:"like.. Electronics ,Books , Home Appliances",name:"mainCategory",value:this.state.mainCategory,onChange:this.handleChange}))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-6"},"  Sub Category :",r.a.createElement("input",{type:"text",className:"form-control",placeholder:"like.. Mobiles ,Laptop",name:"subCategory",value:this.state.subCategory,onChange:this.handleChange}))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary w-50",onClick:this.handleSubmit},"Add"))))}}]),a}(r.a.Component),xe=Object(g.b)()(Oe),Se=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a,n,r={_id:e.state.mainId,subType:{name:e.state.subCategory}};e.props.dispatch((a=r,n="/categories/list",function(e){v.put("/categories/update",a).then((function(t){e({type:"EDIT_CATEGORY",payload:t.data}),y(n)})).catch((function(e){console.log(e)}))}))},e.state={mainId:"",subCategory:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(N());var t=setInterval((function(){e.props.categories.length&&clearInterval(t)}),1e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-4"}," Update existing category",r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"mainId",className:"mt-3"},"Category:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-1"},r.a.createElement("select",{className:"form-control",name:"mainId",id:"mainId",onChange:this.handleChange},r.a.createElement("option",null,"--Select Category--"),this.props.categories.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e._id},e.mainType)}))))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-md-6"},"  Sub Category :",r.a.createElement("input",{type:"text",className:"form-control",placeholder:"like.. Mobiles ,Laptop",name:"subCategory",value:this.state.subCategory,onChange:this.handleChange}))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary w-50",onClick:this.handleSubmit},"Add"))))}}]),a}(r.a.Component),je=Object(g.b)((function(e){return{categories:e.categories}}))(Se),Ie=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch(N());var t=setInterval((function(){e.props.categories.length&&clearInterval(t)}),1e3)},e.handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.state={categoryType:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null," Add / Update Category "),r.a.createElement("form",{className:"px-4 py-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h4",{className:"mt-3"},"Select Category Type"),r.a.createElement("div",{className:"row ml-2"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoryType",id:"Existing",value:"Existing",onChange:this.handleChange,checked:"Existing"===this.state.categoryType}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Existing"},"Existing Category")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoryType",id:"categoryNew",value:"New",onChange:this.handleChange,checked:"New"===this.state.categoryType}),r.a.createElement("label",{className:"form-check-label",htmlFor:"categoryNew"},"New Category"))),"Existing"===this.state.categoryType?r.a.createElement("div",null,r.a.createElement(je,null)):r.a.createElement("div",null,r.a.createElement(xe,null)))))}}]),a}(r.a.Component),ke=Object(g.b)((function(e){return{categories:e.categories}}))(Ie),Te=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t,a=e.props.match.params.text.split("=")[1];e.props.dispatch((t=a,function(e){v.get("/products/search/".concat(t),{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e(I(t.data))})).catch((function(e){console.log(e)}))}));var n=setInterval((function(){e.props.products.length&&(clearInterval(n),e.setState({products:e.props.products}))}),1e3)},e.state={products:[],path:window.location.origin},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,0!==this.state.products.length?r.a.createElement("div",{className:"container  ml-5"},this.state.products.map((function(t,a){return r.a.createElement(s.b,{className:"col-md-3",to:"/products/".concat(t._id),style:{color:"black",textDecoration:"none"},key:a+1},r.a.createElement("div",{className:"card mb-1"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-3 mt-3"},r.a.createElement("img",{src:"".concat(e.state.path,"/").concat(t.mainImage),className:"card-img ml-5",alt:"...",style:{height:"200px",width:"150px"}})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("h4",null," ",r.a.createElement("span",{className:"fa fa-rupee"})," ",t.price),r.a.createElement("ul",{style:{listStyleType:"circle"}},t.description.split("--").map((function(e,t){return r.a.createElement("li",{key:t},e)}))))))))}))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-danger m-5 ",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),a}(r.a.Component),De=Object(g.b)((function(e){return{products:e.products}}))(Te),Pe=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleImage=function(t){var a=t.target.files[0];e.setState(Object(q.a)({},t.target.name,a));var n=[t.target.id],r=new FileReader;r.addEventListener("load",(function(){e.setState(Object(q.a)({},n,r.result))}),!1),r.readAsDataURL(a)},e.handleSubmit=function(t){t.preventDefault();var a={name:e.state.name,description:e.state.description,price:e.state.price,quantity:e.state.quantity,categoryID:e.state.category,subCategoryID:e.state.subcategory};e.props.dispatch(function(e,t,a){return function(n){v.put("/products/update/".concat(t),e).then((function(e){n({type:"EDIT_PRODUCT",payload:e.data}),a()})).catch((function(e){console.log(e)}))}}(a,e.props.match.params.id,(function(){return e.props.history.push("/products/list")})))},e.state={name:"",description:"",category:"",subcategory:"",price:"",quantity:"",mainImage:"",cartImage:"",reviewmainImage:"",reviewcartImage:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(T(this.props.match.params.id));var t=setInterval((function(){if(e.props.products.length){clearInterval(t);var a=e.props.products[0];e.setState({name:a.name,description:a.description,category:a.categoryID,subcategory:a.subCategoryID,price:a.price,quantity:a.quantity,mainImage:a.mainImage,cartImage:a.cartImage})}}),1e3)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid ml-3"},r.a.createElement("h3",null," Update Product "),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-5 border"},r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Product Name :"),r.a.createElement("input",{type:"text",id:"name",required:!0,name:"name",className:"form-control",placeholder:"Enter the Product name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category:"),r.a.createElement("br",null),r.a.createElement("select",{className:"form-control w-50",name:"category",id:"category",onChange:this.handleChange},r.a.createElement("option",null,"--Select Category--"),this.props.categories.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e._id},e.mainType)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subcategory"},"Sub Category:"),r.a.createElement("br",null),r.a.createElement("select",{className:"form-control w-50",name:"subcategory",id:"subcategory",onChange:this.handleChange},r.a.createElement("option",null,"--Select Sub Category--"),this.props.categories.map((function(t){return 0===t.subType.length&&t._id===e.state.category?r.a.createElement("option",{key:"1",value:"NA"}," Others "):t._id===e.state.category?t.subType.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e._id},e.name)})):void 0})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description :"),r.a.createElement("textarea",{id:"description",required:!0,name:"description",className:"form-control h-50",rows:"10",placeholder:"Enter the description",value:this.state.description,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"price"},"Price :"),r.a.createElement("div",{className:"form-group input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text fa fa-rupee",id:"basic-addon1"})),r.a.createElement("input",{type:"text",id:"price",required:!0,name:"price",className:"form-control",placeholder:"Enter the Product price",value:this.state.price,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity Avilable:"),r.a.createElement("input",{type:"text",id:"quantity",required:!0,name:"quantity",className:"form-control",placeholder:"Enter the Product quantity",value:this.state.quantity,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",id:"submit",name:"submit",className:"btn btn-success w-25",value:"UPDATE"})))),this.state.mainImage?r.a.createElement("div",{className:"col-4  ml-4"},r.a.createElement("h5",null,"Main Image Review"),r.a.createElement("img",{src:"".concat(window.location.origin,"/").concat(this.state.mainImage),alt:""})):""))}}]),a}(r.a.Component),qe=Object(g.b)((function(e){return{products:e.products,categories:e.categories}}))(Pe),Ae=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch(le());var t=setInterval((function(){if(e.props.cartData.length){clearInterval(t);var a=0;if(e.props.cartData.map((function(e){return a+=e.price*e.quantity})),a>0){var n=1*a/100;e.setState({price:a,tax:n})}}}),1e3)},e.handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({readyToOrder:!0})},e.handleInfoEdit=function(t){e.setState({readyToOrder:!1})},e.handleOrders=function(t){t.preventDefault();var a=e.props.cartData.map((function(t){return{name:t.name,price:t.price,quantity:t.quantity,image:t.image,customerID:e.props.users[0]._id,address:e.state.address,contactNum:e.state.contactNum}}));e.props.dispatch(function(e,t){return function(a){v.delete("/cart/delete/all",{headers:{auth:localStorage.getItem("token")}}).then((function(n){n.data.hasOwnProperty("error")?alert(n.data):(a(le()),console.log(),v.post("/orders",e,{headers:{auth:localStorage.getItem("token")}}).then((function(e){e.data.hasOwnProperty("error")?alert(e.data):(a({type:"CREATE_ORDER",payload:e.data}),t())})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))}}(a,(function(){return window.location.reload()})))},e.state={path:window.location.origin,address:"#35,2nd cross,Chunchugatta main road ,Harinagar Cross,bangalore -560062",contactNum:"8095320791",readyToOrder:!0,price:0,tax:0},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this;return console.log(this.props.users),r.a.createElement("div",{className:"container-fluid"},this.props.cartData.length&&this.state.readyToOrder?r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h3",{className:"col-12"}," Confirm Order "),"  ",r.a.createElement("br",null),r.a.createElement("a",{href:"#",className:" ml-3  text-monospace text-decoration-none",onClick:this.handleInfoEdit,style:{fontSize:"lg"}},"Edit"),r.a.createElement("p",{className:"col-12 mr-5 pr-5",style:{wordWrap:"break-word"}},"  Delivery Address : ",this.state.address," ",r.a.createElement("br",null)," Mobile : ",this.state.contactNum," "),r.a.createElement("div",{className:"col-6"},this.props.cartData.map((function(e,a){return r.a.createElement("div",{className:"card mb-2",key:a+1},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-1 mt-3"},r.a.createElement("img",{src:"".concat(t.state.path,"/").concat(e.image),className:"card-img",alt:"No Image"})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"card-title"},e.name))),r.a.createElement("div",null,r.a.createElement("h5",{className:"card-text text-left mt-3"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title text-left",displayType:"text",prefix:"\u20b9",value:e.price}),"\xa0\xa0 Quantity - ",e.quantity))))))}))),r.a.createElement("div",{className:"col-3  mr-auto ml-5",style:{height:"100%",width:"150%"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,"PRICE DETAILS")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h5",{className:"card-title float-left"},"Price (".concat(this.props.cartData.length," items)")," "),r.a.createElement("h5",{className:"card-title float-right"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title float-right",displayType:"text",prefix:"\u20b9",value:this.state.price}))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h5",{className:"card-title float-left"},"TAX  "),r.a.createElement("h5",{className:"card-title float-right "},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title float-right",displayType:"text",prefix:"\u20b9",value:this.state.tax})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("h5",{className:"card-title float-left"},"TOTAL PRICE "),r.a.createElement("h5",{className:"card-title float-right  "},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title float-right",displayType:"text",prefix:"\u20b9",value:this.state.price+this.state.tax}))),r.a.createElement("input",{type:"submit",id:"submit",name:"submit",className:"btn btn-danger ",value:"CONFIRM ORDER",onClick:this.handleOrders})))):r.a.createElement("div",{className:"container-fluid ml-3"},r.a.createElement("h3",null," Delivery Details: "),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-5 "},r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"address"},"Delivery Address:"),r.a.createElement("textarea",(e={id:"address",required:!0,name:"address",className:"form-control h-40",rows:"5"},Object(q.a)(e,"required","true"),Object(q.a)(e,"placeholder","Enter the address"),Object(q.a)(e,"value",this.state.address),Object(q.a)(e,"onChange",this.handleChange),e))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"contactNum"},"Mobile Number:  [Please provide valid number to get order details as SMS]"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"+91")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Mobile Number",id:"contactNum",required:"true",name:"contactNum",value:this.state.contactNum,onChange:this.handleChange}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"ADD DETAILS"}))))))}}]),a}(r.a.Component),Re=Object(g.b)((function(e){return{cartData:e.cartData,users:e.users}}))(Ae),_e=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.props.dispatch((function(e){v.get("/orders/list",{headers:{auth:localStorage.getItem("token")}}).then((function(t){t.data.hasOwnProperty("error")?x()({title:t.data.error,icon:"error",button:"OK"}).then((function(){window.location.href="/"})):e(me(t.data))})).catch((function(e){console.log(e)}))}));var t=setInterval((function(){e.props.orders.length&&clearInterval(t)}),1e3)},e.state={path:window.location.origin},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid m-3 "},r.a.createElement("h4",{style:{visibility:this.props.orders.length?"visible":"hidden"}}," My Orders"),this.props.orders.length?r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-6"},this.props.orders.map((function(t,a){return r.a.createElement("div",{className:"card",key:a+1},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-1 mt-3"},r.a.createElement("img",{src:"".concat(e.state.path,"/").concat(t.image),className:"card-img",alt:"No Image"})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"card-title"},t.name))),r.a.createElement("div",null,r.a.createElement("h6",{className:"card-text text-left mt-1"},r.a.createElement(re.a,{thousandSeparator:!0,thousandsGroupStyle:"lakh",className:"card-title text-left",displayType:"text",prefix:"\u20b9",value:t.price}),"\xa0\xa0\xa0Qty :  ",t.quantity),r.a.createElement("label",null," Ordered : ",t.orderAt.split("T")[0]))))))})))):"")}}]),a}(r.a.Component),Fe=Object(g.b)((function(e){return{orders:e.orders}}))(_e);var Me=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(P,null)),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:te,exact:!0}),r.a.createElement(o.a,{path:"/ShopEx",component:te,exact:!0}),r.a.createElement(o.a,{path:"/login",component:R,exact:!0}),r.a.createElement(o.a,{path:"/register",component:F,exact:!0}),r.a.createElement(o.a,{path:"/account",component:ne,exact:!0}),r.a.createElement(o.a,{path:"/cart",component:ie,exact:!0}),r.a.createElement(o.a,{path:"/orders",component:pe,exact:!0}),r.a.createElement(o.a,{path:"/orders/add",component:Re,exact:!0}),r.a.createElement(o.a,{path:"/orders/summary",component:Fe,exact:!0}),r.a.createElement(o.a,{path:"/categories/list",component:Ce,exact:!0}),r.a.createElement(o.a,{path:"/categories/update",component:ke,exact:!0}),r.a.createElement(o.a,{path:"/products/list",component:ve,exact:!0}),r.a.createElement(o.a,{path:"/products/add",component:ge,exact:!0}),r.a.createElement(o.a,{path:"/search/:text",component:De,exact:!0}),r.a.createElement(o.a,{path:"/products/query/:id",component:Ne,exact:!0}),r.a.createElement(o.a,{path:"/products/update/:id",component:qe,exact:!0}),r.a.createElement(o.a,{path:"/products/:id",component:fe,exact:!0})))},Le=a(22),Ue=a(53),Qe=[],Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return[].concat(t.payload);case"EDIT_USER":return e.map((function(e){return e._id===t.payload._id?Object.assign({},e,t.payload):Object.assign({},e)}));default:return[].concat(e)}},ze=[],Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORDERS":case"CREATE_ORDER":return[].concat(t.payload);default:return[].concat(e)}},He=[],Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":case"UPDATE_PRODUCT":return[].concat(t.payload);case"EDIT_PRODUCT":return e.map((function(e){return e._id===t.payload._id?Object.assign({},e,t.payload):Object.assign({},e)}));default:return[].concat(e)}},Be=[],Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATEGORY":return[].concat(t.payload);case"CREATE_CATEGORY":return e.concat(t.payload);case"EDIT_CATEGORY":return e.map((function(e){return e._id===t.payload._id?Object.assign({},e,t.payload):Object.assign({},e)}));default:return[].concat(e)}},Xe=[],We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CART":return[].concat(t.payload);case"EDIT_CART":return e.map((function(e){return e._id===t.payload._id?Object.assign({},e,t.payload):Object.assign({},e)}));default:return[].concat(e)}},Ve=function(){return Object(Le.d)(Object(Le.c)({users:Ge,orders:Ye,products:Je,categories:Ke,cartData:We}),Object(Le.a)(Ue.a))};a(83);var Ze=function(){return r.a.createElement("footer",{className:"page-footer font-small mt-5 bg-dark text-light "},r.a.createElement("div",{className:"container-fluid ml-3 text-center text-md-left"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mt-md-0 mt-3"},r.a.createElement("h3",{className:"text-warning",style:{fontFamily:"Times New Roman",fontSize:"40px"}},"ShopEx"),r.a.createElement("p",null,"This website is a Project developed using JavaScript,React JS ,NodeJS ,Express JS & MongoDB.",r.a.createElement("br",null)," This is a E-commerce shopping site like Flipkart where customer's can view the products and Order the liked one.")),r.a.createElement("hr",{className:"clearfix w-100 d-md-none pb-3"}),r.a.createElement("div",{className:"col-md-3 mb-md-0 mb-3"}),r.a.createElement("div",{className:"col-md-3 mb-md-0 mb-3"},r.a.createElement("h4",{style:{fontFamily:"Times New Roman"}},r.a.createElement("u",null,"Personal Links")),r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-envelope",style:{fontSize:"18px"}}," Chalukya001@gmail.com")),r.a.createElement("li",null,r.a.createElement("span",{className:"fa fa-git-square",style:{fontSize:"20px"}},"  "),r.a.createElement("a",{href:"https://github.com/Chalukya-H",target:"_blank",className:"text-primary bg-dark",style:{fontSize:"20px",fontFamily:"Times New Roman"}}," Chalukya-H")),r.a.createElement("li",null,r.a.createElement("span",{className:"fa fa-linkedin-square ",style:{fontSize:"20px"}},"  "),r.a.createElement("a",{href:"https://www.linkedin.com/in/chalukya-h-77a0a8105/",target:"_blank",className:"text-primary bg-dark",style:{fontSize:"20px",fontFamily:"Times New Roman"}}," Chalukya-H")))))))},$e=Ve();$e.subscribe((function(){$e.getState()})),localStorage.getItem("token")&&($e.dispatch(j()),$e.dispatch(N()));var et=r.a.createElement(g.a,{store:$e},r.a.createElement(Me,null),r.a.createElement(Ze,null));l.a.render(et,document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.9228b888.chunk.js.map